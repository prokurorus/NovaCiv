# –û—Ç—á–µ—Ç: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ—á–∞—Å–æ–≤–æ–≥–æ –≤—ã–ø—É—Å–∫–∞ –Ω–æ–≤–æ—Å—Ç–µ–π –≤ Telegram

**–î–∞—Ç–∞:** 2024  
**–¶–µ–ª—å:** –î–æ–±–∏—Ç—å—Å—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ –ø–æ—á–∞—Å–æ–≤–æ–≥–æ –≤—ã–ø—É—Å–∫–∞ –Ω–æ–≤–æ—Å—Ç–µ–π –≤ Telegram (RU/EN/DE) –±–µ–∑ —Ä—É—á–Ω—ã—Ö –∑–∞–ø—É—Å–∫–æ–≤

---

## 1. –ü–†–û–í–ï–†–ö–ê NETLIFY.TOML

### 1.1 –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è scheduled functions

**–§–∞–π–ª:** `netlify.toml`

**–°–µ–∫—Ü–∏—è `[functions]`:**
```toml
[functions]
  included_files = ["media/**"]
  external_node_modules = ["ffmpeg-static", "openai"]
  node_bundler = "esbuild"
```

**Scheduled functions:**

```toml
[functions."news-cron"]
  schedule = "0 * * * *"

[functions."fetch-news"]
  schedule = "0 */3 * * *"

[functions."video-worker"]
  schedule = "*/15 * * * *"

[functions."domovoy-daily-video"]
  schedule = "0 3 * * *"
```

**–í—ã–¥–µ—Ä–∂–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (–±–µ–∑ —Å–µ–∫—Ä–µ—Ç–æ–≤):**

- `news-cron`: `"0 * * * *"` ‚Äî –∫–∞–∂–¥—ã–π —á–∞—Å (–≤ 0 –º–∏–Ω—É—Ç)
- `fetch-news`: `"0 * * * *"` ‚Äî –∫–∞–∂–¥—ã–π —á–∞—Å (–≤ 0 –º–∏–Ω—É—Ç) **[–ò–ó–ú–ï–ù–ï–ù–û —Å "0 */3 * * *"]**
- `video-worker`: `"*/15 * * * *"` ‚Äî –∫–∞–∂–¥—ã–µ 15 –º–∏–Ω—É—Ç
- `domovoy-daily-video`: `"0 3 * * *"` ‚Äî –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 3:00 UTC

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞

---

## 2. –ü–û–î–î–ï–†–ñ–ö–ê NETLIFY SCHEDULED FUNCTIONS

### 2.1 –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

**–§–∞–π–ª—ã –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏:**
- ‚úÖ `netlify.toml` —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–µ–∫—Ü–∏—é `[functions."function-name"]` —Å `schedule`
- ‚úÖ –§—É–Ω–∫—Ü–∏–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ `netlify/functions/`
- ‚úÖ –ù–µ—Ç –ø–ª–∞–≥–∏–Ω–æ–≤ –∏–ª–∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π –¥–ª—è scheduler

**–í—ã–≤–æ–¥:** Netlify Scheduled Functions —Ä–∞–±–æ—Ç–∞—é—Ç —á–µ—Ä–µ–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –≤ `netlify.toml`. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–ª–∞–≥–∏–Ω—ã –∏–ª–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –Ω–µ —Ç—Ä–µ–±—É—é—Ç—Å—è.

**–ú–µ—Ö–∞–Ω–∏–∑–º —Ä–∞–±–æ—Ç—ã:**
- Netlify –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–∏—Ç–∞–µ—Ç `netlify.toml` –ø—Ä–∏ –¥–µ–ø–ª–æ–µ
- Scheduled functions –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è Netlify –ø–æ cron-—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é
- –§—É–Ω–∫—Ü–∏–∏ –ø–æ–ª—É—á–∞—é—Ç HTTP-–≤—ã–∑–æ–≤ –æ—Ç Netlify Scheduler (–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π —Å–µ—Ä–≤–∏—Å)

**–°—Ç–∞—Ç—É—Å:** ‚úÖ Netlify Scheduled Functions –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã

---

## 3. –í–ù–ï–®–ù–ò–ô –ü–õ–ê–ù–ò–†–û–í–©–ò–ö

### 3.1 –ü–æ–∏—Å–∫ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏

**–ü–æ–∏—Å–∫ –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º:**
- `cron-job.org` ‚Äî –Ω–∞–π–¥–µ–Ω–æ –≤ `docs/news-scheduler.md` (—É–ø–æ–º–∏–Ω–∞–Ω–∏–µ –∫–∞–∫ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞)
- `easycron` ‚Äî –Ω–∞–π–¥–µ–Ω–æ –≤ `docs/news-scheduler.md` (—É–ø–æ–º–∏–Ω–∞–Ω–∏–µ –∫–∞–∫ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞)
- `uptimerobot` ‚Äî –Ω–∞–π–¥–µ–Ω–æ –≤ `docs/news-scheduler.md` (—É–ø–æ–º–∏–Ω–∞–Ω–∏–µ –∫–∞–∫ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞)
- `CRON_TOKEN` / `NEWS_CRON_SECRET` ‚Äî –Ω–∞–π–¥–µ–Ω–æ –≤ –∫–æ–¥–µ —Ñ—É–Ω–∫—Ü–∏–π (–∑–∞—â–∏—Ç–∞ endpoint, –Ω–µ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫)
- `scheduler` ‚Äî –Ω–∞–π–¥–µ–Ω–æ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ Netlify Scheduled Functions
- `ping` / `heartbeat` ‚Äî –Ω–µ –Ω–∞–π–¥–µ–Ω–æ

**–§–∞–π–ª—ã:**
- `docs/news-scheduler.md` ‚Äî —Å–æ–¥–µ—Ä–∂–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –≤–Ω–µ—à–Ω–∏—Ö –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞—Ö –∫–∞–∫ **–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ–º** –≤–∞—Ä–∏–∞–Ω—Ç–µ
- `scripts/check-news-pipeline.mjs` ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `CRON_TOKEN` –¥–ª—è —Ä—É—á–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞, –Ω–µ –¥–ª—è –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

**–í—ã–≤–æ–¥:** 
- ‚ùå –í —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ **–ù–ï–¢ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –≤–Ω–µ—à–Ω–µ–≥–æ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞**
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **Netlify Scheduled Functions** (–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤ `netlify.toml`)
- üìù –í –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ —É–ø–æ–º—è–Ω—É—Ç—ã –≤–Ω–µ—à–Ω–∏–µ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∏ –∫–∞–∫ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞, –Ω–æ –æ–Ω–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ï—Å–ª–∏ –≤ –ª–æ–≥–∞—Ö Netlify –≤–∏–¥–Ω—ã –∑–∞–ø—Ä–æ—Å—ã —Å –≤–Ω–µ—à–Ω–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, cron-job.org), —ç—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π/—Ä–µ–∑–µ—Ä–≤–Ω—ã–π –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫, –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –≤–Ω–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è. –î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω—É–∂–Ω–æ –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ª–æ–≥–∏ Netlify –ø–æ User-Agent.

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –û—Å–Ω–æ–≤–Ω–æ–π –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ ‚Äî Netlify Scheduled Functions (netlify.toml)

---

## 4. –ê–í–¢–û-–î–ò–ê–ì–ù–û–°–¢–ò–ö–ê –ò –õ–û–ì–ò–†–û–í–ê–ù–ò–ï

### 4.1 –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—é

–î–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —Ä–∞–±–æ—Ç—ã —Ñ—É–Ω–∫—Ü–∏–π –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å:

1. **–ö–æ–Ω—Ç–µ–∫—Å—Ç –∑–∞–ø—É—Å–∫–∞:**
   - `runId` ‚Äî —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∑–∞–ø—É—Å–∫–∞ (UUID –∏–ª–∏ timestamp)
   - `timestamp` ‚Äî –≤—Ä–µ–º—è –∑–∞–ø—É—Å–∫–∞ (ISO 8601)
   - `trigger` ‚Äî –∏—Å—Ç–æ—á–Ω–∏–∫ –∑–∞–ø—É—Å–∫–∞ (scheduled / manual)

2. **–ú–µ—Ç—Ä–∏–∫–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏:**
   - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ fetched items (–¥–ª—è fetch-news)
   - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ filtered items (–æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–Ω—ã—Ö)
   - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ processed items (–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö)
   - Per-language counts (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ —è–∑—ã–∫–∞–º)

3. **–°—Ç–∞—Ç—É—Å:**
   - –£—Å–ø–µ—à–Ω–æ—Å—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
   - –û—à–∏–±–∫–∏ (–µ—Å–ª–∏ –µ—Å—Ç—å)
   - –ü—Ä–∏—á–∏–Ω—ã –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –Ω–æ–≤–æ—Å—Ç–µ–π (–µ—Å–ª–∏ processed = 0)

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:** –°–º. –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ `netlify/functions/news-cron.js` –∏ `netlify/functions/fetch-news.js`

---

## 5. –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò –ü–û –†–ê–°–ü–ò–°–ê–ù–ò–Æ

### 5.1 –¢–µ–∫—É—â–∞—è —Å—Ö–µ–º–∞

- `fetch-news`: `"0 */3 * * *"` (–∫–∞–∂–¥—ã–µ 3 —á–∞—Å–∞)
- `news-cron`: `"0 * * * *"` (–∫–∞–∂–¥—ã–π —á–∞—Å)

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ `fetch-news` –∫–∞–∂–¥—ã–µ 3 —á–∞—Å–∞ –Ω–æ–≤–æ—Å—Ç–∏ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ 8 —Ä–∞–∑ –≤ —Å—É—Ç–∫–∏. –î–ª—è –ø–æ—á–∞—Å–æ–≤–æ–≥–æ –≤—ã–ø—É—Å–∫–∞ —ç—Ç–æ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ.

### 5.2 –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–Ω–∞—è —Å—Ö–µ–º–∞

**–í–∞—Ä–∏–∞–Ω—Ç 1: fetch-news –∫–∞–∂–¥—ã–π —á–∞—Å (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)**

```toml
[functions."fetch-news"]
  schedule = "0 * * * *"
```

**–ü–ª—é—Å—ã:**
- ‚úÖ –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å –Ω–æ–≤–æ—Å—Ç–µ–π
- ‚úÖ –ü–æ—á–∞—Å–æ–≤–æ–π –≤—ã–ø—É—Å–∫ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω (–ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ –Ω–æ–≤—ã—Ö –Ω–æ–≤–æ—Å—Ç–µ–π)

**–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:**
- –¢–µ–∫—É—â–∏–π `MAX_NEW_ITEMS_PER_RUN = 5` ‚Äî –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã
- –°—Ç–æ–∏–º–æ—Å—Ç—å OpenAI: ~5 –Ω–æ–≤–æ—Å—Ç–µ–π √ó 2 –∑–∞–ø—Ä–æ—Å–∞ (–∞–Ω–∞–ª–∏–∑ + –ø–µ—Ä–µ–≤–æ–¥) √ó 24 —á–∞—Å–∞ = ~240 –∑–∞–ø—Ä–æ—Å–æ–≤/–¥–µ–Ω—å
- –ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ `gpt-4o-mini` (~$0.15/1M tokens input, ~$0.60/1M tokens output) —Å—Ç–æ–∏–º–æ—Å—Ç—å ~$0.50-1.50/–¥–µ–Ω—å

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `MAX_NEW_ITEMS_PER_RUN = 5` (—Ç–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ). –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å —Ä–∞—Å—Ö–æ–¥—ã, –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å per-source cap (–º–∞–∫—Å–∏–º—É–º 1-2 –Ω–æ–≤–æ—Å—Ç–∏ —Å –æ–¥–Ω–æ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –∑–∞ –∑–∞–ø—É—Å–∫).

---

**–í–∞—Ä–∏–∞–Ω—Ç 2: fetch-news –∫–∞–∂–¥—ã–µ 2 —á–∞—Å–∞ (–∫–æ–º–ø—Ä–æ–º–∏—Å—Å)**

```toml
[functions."fetch-news"]
  schedule = "0 */2 * * *"
```

**–ü–ª—é—Å—ã:**
- ‚úÖ –ë–æ–ª–µ–µ —á–∞—Å—Ç—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è, —á–µ–º –∫–∞–∂–¥—ã–µ 3 —á–∞—Å–∞
- ‚úÖ –°–Ω–∏–∂–µ–Ω–∏–µ —Å—Ç–æ–∏–º–æ—Å—Ç–∏ OpenAI (~50% –æ—Ç –≤–∞—Ä–∏–∞–Ω—Ç–∞ 1)

**–ú–∏–Ω—É—Å—ã:**
- ‚ö†Ô∏è –ù–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –Ω–æ–≤–æ—Å—Ç–∏ –∫–∞–∂–¥—ã–π —á–∞—Å (–º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–æ–ø—É—Å–∫ –≤ —Ç–∏—Ö–∏–µ —á–∞—Å—ã)

---

**–ò—Ç–æ–≥–æ–≤–∞—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** **–í–∞—Ä–∏–∞–Ω—Ç 1 (–∫–∞–∂–¥—ã–π —á–∞—Å)** —Å —Ç–µ–∫—É—â–∏–º `MAX_NEW_ITEMS_PER_RUN = 5`.

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**
- –°—Ç–æ–∏–º–æ—Å—Ç—å –ø—Ä–∏–µ–º–ª–µ–º–∞ ($0.50-1.50/–¥–µ–Ω—å –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ gpt-4o-mini)
- –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å –∏ –ø–æ—á–∞—Å–æ–≤–æ–π –≤—ã–ø—É—Å–∫
- –¢–µ–∫—É—â–∏–µ 8 –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ (3 RU, 3 EN, 2 DE) –ø—Ä–∏ –ø–æ—á–∞—Å–æ–≤–æ–º –∑–∞–ø—É—Å–∫–µ –¥–∞—é—Ç –¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–π –ø–æ—Ç–æ–∫ –Ω–æ–≤–æ—Å—Ç–µ–π

---

## 6. –†–ê–°–®–ò–†–ï–ù–ò–ï RSS –ò–°–¢–û–ß–ù–ò–ö–û–í

### 6.1 –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

**RU:** 3 –∏—Å—Ç–æ—á–Ω–∏–∫–∞ (BBC Russian, DW Russian, Meduza)  
**EN:** 3 –∏—Å—Ç–æ—á–Ω–∏–∫–∞ (BBC World, DW World EN, The Guardian)  
**DE:** 2 –∏—Å—Ç–æ—á–Ω–∏–∫–∞ (Tagesschau, DW German)

### 6.2 –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—é

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** DE (—Ç–æ–ª—å–∫–æ 2 –∏—Å—Ç–æ—á–Ω–∏–∫–∞)

**–ö–∞–Ω–¥–∏–¥–∞—Ç—ã –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è (–ø–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ —á–µ—Ä–µ–∑ `scripts/check-rss-sources.mjs`):**

**DE (3 –∏—Å—Ç–æ—á–Ω–∏–∫–∞):**
1. Spiegel Politik: `https://www.spiegel.de/politik/index.rss`
2. S√ºddeutsche Zeitung Politik: `https://www.sueddeutsche.de/politik/rss`
3. Die Zeit Politik: `https://www.zeit.de/politik/index/rss.xml`

**RU (3 –∏—Å—Ç–æ—á–Ω–∏–∫–∞):**
1. –†–ë–ö: `https://www.rbc.ru/rss/main.xml`
2. Lenta.ru: `https://lenta.ru/rss`
3. N+1 (–Ω–∞—É–∫–∞): `https://nplus1.ru/rss`

**EN (3 –∏—Å—Ç–æ—á–Ω–∏–∫–∞):**
1. Reuters World: `https://feeds.reuters.com/reuters/worldNews`
2. Associated Press World: `https://feeds.apnews.com/rss/worldnews`
3. Ars Technica: `https://feeds.arstechnica.com/arstechnica/index`

**‚ö†Ô∏è –í–ê–ñ–ù–û:** –î–æ–±–∞–≤–ª—è—Ç—å —Ç–æ–ª—å–∫–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∏, –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ `scripts/check-rss-sources.mjs`

---

## 7. –ò–¢–û–ì–û–í–´–ô –ü–õ–ê–ù –î–ï–ô–°–¢–í–ò–ô

### 7.1 –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ

1. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ `news-cron.js`:
   - runId, timestamp, trigger
   - fetched topics count
   - filtered (fresh) topics count
   - processed count
   - perLanguage counts

2. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ `fetch-news.js`:
   - runId, timestamp, trigger
   - fetched items count
   - filtered (fresh) items count
   - processed items count
   - per-language counts (–µ—Å–ª–∏ –ø—Ä–∏–º–µ–Ω–∏–º–æ)

3. ‚ö†Ô∏è –ò–∑–º–µ–Ω–∏—Ç—å schedule –¥–ª—è `fetch-news` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):
   - –¢–µ–∫—É—â–µ–µ: `"0 */3 * * *"`
   - –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–µ: `"0 * * * *"` (–∫–∞–∂–¥—ã–π —á–∞—Å)

4. ‚ö†Ô∏è –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ RSS –∏—Å—Ç–æ—á–Ω–∏–∫–∏ (–ø–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏):
   - –ú–∏–Ω–∏–º—É–º 3 –¥–ª—è DE
   - –ú–∏–Ω–∏–º—É–º 3 –¥–ª—è RU
   - –ú–∏–Ω–∏–º—É–º 3 –¥–ª—è EN

### 7.2 –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞

–ü–æ—Å–ª–µ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:

1. –õ–æ–≥–∏ Netlify Functions:
   - –í–∏–¥–Ω—ã –ø–æ—á–∞—Å–æ–≤—ã–µ –∑–∞–ø—É—Å–∫–∏ `news-cron`
   - –í–∏–¥–Ω—ã —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –∑–∞–ø—É—Å–∫–∏ `fetch-news` (–ø–æ –Ω–æ–≤–æ–º—É schedule)
   - –õ–æ–≥–∏ —Å–æ–¥–µ—Ä–∂–∞—Ç runId, timestamp, –º–µ—Ç—Ä–∏–∫–∏

2. Telegram –∫–∞–Ω–∞–ª—ã:
   - –ù–æ–≤–æ—Å—Ç–∏ –ø–æ—è–≤–ª—è—é—Ç—Å—è —Ä–µ–≥—É–ª—è—Ä–Ω–æ (–∫–∞–∂–¥—ã–π —á–∞—Å –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ –Ω–æ–≤—ã—Ö —Ç–µ–º)
   - –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ —è–∑—ã–∫–∞–º –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ (RU ‚Üí RU –∫–∞–Ω–∞–ª, EN ‚Üí EN –∫–∞–Ω–∞–ª, DE ‚Üí DE –∫–∞–Ω–∞–ª)

3. Firebase:
   - –ù–æ–≤—ã–µ —Ç–µ–º—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –≤ `forum/topics` (section: "news")
   - –¢–µ–º–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø–æ–º–µ—á–∞—é—Ç—Å—è –∫–∞–∫ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ (`telegramPostedAt`)

---

## 8. –°–¢–ê–¢–£–°

- ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è netlify.toml –ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Netlify Scheduled Functions –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞
- ‚úÖ –í–Ω–µ—à–Ω–∏–π –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Netlify)
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–æ–±–∞–≤–ª–µ–Ω–æ –≤ `news-cron.js` –∏ `fetch-news.js`
- ‚úÖ Schedule –¥–ª—è fetch-news –∏–∑–º–µ–Ω–µ–Ω –Ω–∞ –∫–∞–∂–¥—ã–π —á–∞—Å (`"0 * * * *"`)
- ‚ö†Ô∏è RSS –∏—Å—Ç–æ—á–Ω–∏–∫–∏ ‚Äî –ø—Ä–µ–¥–ª–æ–∂–µ–Ω—ã –∫–∞–Ω–¥–∏–¥–∞—Ç—ã (—Ç—Ä–µ–±—É–µ—Ç—Å—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ `scripts/check-rss-sources.mjs`)

**–î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:** 2024

---

## 9. –í–ù–ï–°–ï–ù–ù–´–ï –ò–ó–ú–ï–ù–ï–ù–ò–Ø

### 9.1 netlify.toml

**–ò–∑–º–µ–Ω–µ–Ω–∏–µ schedule –¥–ª—è fetch-news:**
- –ë—ã–ª–æ: `"0 */3 * * *"` (–∫–∞–∂–¥—ã–µ 3 —á–∞—Å–∞)
- –°—Ç–∞–ª–æ: `"0 * * * *"` (–∫–∞–∂–¥—ã–π —á–∞—Å)

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:** –°–º. —Ä–∞–∑–¥–µ–ª 5.2

### 9.2 netlify/functions/news-cron.js

**–î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:**
- `runId` ‚Äî —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∑–∞–ø—É—Å–∫–∞
- `timestamp` ‚Äî –≤—Ä–µ–º—è –∑–∞–ø—É—Å–∫–∞ (ISO 8601)
- `trigger` ‚Äî –∏—Å—Ç–æ—á–Ω–∏–∫ –∑–∞–ø—É—Å–∫–∞ (scheduled / manual)
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ fetched topics
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ filtered (fresh) topics
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ processed topics
- Per-language counts (ru, en, de)
- –û—à–∏–±–∫–∏ –ø–æ —è–∑—ã–∫–∞–º

### 9.3 netlify/functions/fetch-news.js

**–î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:**
- `runId` ‚Äî —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∑–∞–ø—É—Å–∫–∞
- `timestamp` ‚Äî –≤—Ä–µ–º—è –∑–∞–ø—É—Å–∫–∞ (ISO 8601)
- `trigger` ‚Äî –∏—Å—Ç–æ—á–Ω–∏–∫ –∑–∞–ø—É—Å–∫–∞ (scheduled / manual)
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ fetched items
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ filtered items (–ø–æ —Å–≤–µ–∂–µ—Å—Ç–∏)
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ processed items
- Per-language counts (ru, en, de)
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ (OK/failed)

**–§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã:**
- `netlify.toml`
- `netlify/functions/news-cron.js`
- `netlify/functions/fetch-news.js`

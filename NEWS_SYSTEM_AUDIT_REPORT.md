# –û—Ç—á–µ—Ç –ø–æ –∞—É–¥–∏—Ç—É —Å–∏—Å—Ç–µ–º—ã –Ω–æ–≤–æ—Å—Ç–Ω–æ–π –∞–≥—Ä–µ–≥–∞—Ü–∏–∏ NovaCiv

**–î–∞—Ç–∞:** 2024  
**–¶–µ–ª—å:** –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–∏—á–∏–Ω –ø—É—Å—Ç—ã—Ö –≤—ã–ø—É—Å–∫–æ–≤ –≤ Telegram-–∫–∞–Ω–∞–ª–∞—Ö –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é

---

## A) –¢–µ–∫—É—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –Ω–æ–≤–æ—Å—Ç–µ–π

### 1) –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤

**–§–∞–π–ª:** `netlify/functions/fetch-news.js`  
**–°—Ç—Ä–æ–∫–∏:** 28-74 (–º–∞—Å—Å–∏–≤ `SOURCES`)

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–Ω—Ñ–∏–≥–∞:**
```javascript
const SOURCES = [
  {
    id: "bbc_russian",
    url: "https://feeds.bbci.co.uk/russian/rss.xml",
    languages: ["ru"],
  },
  // ... –¥—Ä—É–≥–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏
];
```

**–¢–µ–∫—É—â–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏:**
- **RU (3 –∏—Å—Ç–æ—á–Ω–∏–∫–∞):** BBC Russian, DW Russian, Meduza
- **EN (3 –∏—Å—Ç–æ—á–Ω–∏–∫–∞):** BBC World, DW World (EN), The Guardian World
- **DE (2 –∏—Å—Ç–æ—á–Ω–∏–∫–∞):** Tagesschau, DW German

**–ü—Ä–∏–≤—è–∑–∫–∞ –∫ —è–∑—ã–∫–∞–º:**
- –ö–∞–∂–¥—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –∏–º–µ–µ—Ç –º–∞—Å—Å–∏–≤ `languages`, –∫–æ—Ç–æ—Ä—ã–π –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –¥–ª—è –∫–∞–∫–∏—Ö —è–∑—ã–∫–æ–≤—ã—Ö –∫–∞–Ω–∞–ª–æ–≤ —Å–æ–∑–¥–∞—é—Ç—Å—è –ø–µ—Ä–µ–≤–æ–¥—ã
- –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –Ω–µ –ø—Ä–∏–≤—è–∑–∞–Ω—ã –∫ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º (–ø–æ–ª–∏—Ç–∏–∫–∞, —ç–∫–æ–Ω–æ–º–∏–∫–∞, —ç–∫–æ–ª–æ–≥–∏—è –∏ —Ç.–¥.)

**–°–≤—è–∑—å —Å —è–∑—ã–∫–∞–º–∏:**
- –Ø–∑—ã–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –≤ –º–∞—Å—Å–∏–≤–µ `LANG_OUTPUTS` (—Å—Ç—Ä–æ–∫–∏ 77-93)
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è: `en`, `ru`, `de`
- –ö–∞–∂–¥—ã–π —è–∑—ã–∫ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ —Ñ–æ—Ä—É–º (`saveToForum: true`)

---

### 2) –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ "–ø–∞–∫–µ—Ç–∞" –Ω–æ–≤–æ—Å—Ç–µ–π –Ω–∞ –≤—ã–ø—É—Å–∫

**–§–∞–π–ª:** `netlify/functions/fetch-news.js`  
**–§—É–Ω–∫—Ü–∏—è:** `exports.handler` (—Å—Ç—Ä–æ–∫–∏ 434-618)

**–õ–æ–≥–∏–∫–∞ –æ—Ç–±–æ—Ä–∞ (—Å—Ç—Ä–æ–∫–∏ 467-503):**

1. **–ó–∞–≥—Ä—É–∑–∫–∞ –≤—Å–µ—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤** (—Å—Ç—Ä–æ–∫–∏ 468-476):
   - –¶–∏–∫–ª –ø–æ –≤—Å–µ–º –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º –∏–∑ `SOURCES`
   - –û—à–∏–±–∫–∏ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è, –Ω–æ –Ω–µ –ø—Ä–µ—Ä—ã–≤–∞—é—Ç —Å–±–æ—Ä–∫—É (graceful degradation)
   - –í—Å–µ –Ω–æ–≤–æ—Å—Ç–∏ –æ–±—ä–µ–¥–∏–Ω—è—é—Ç—Å—è –≤ `allItems[]`

2. **–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞** (—Å—Ç—Ä–æ–∫–∏ 478-483):
   - –ü–æ –¥–∞—Ç–µ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ (`pubDate`), —Å–Ω–∞—á–∞–ª–∞ –Ω–æ–≤—ã–µ
   - –ï—Å–ª–∏ –¥–∞—Ç—ã –Ω–µ—Ç, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è 0 (—Ç.–µ. —Ç–∞–∫–∏–µ –Ω–æ–≤–æ—Å—Ç–∏ —É—Ö–æ–¥—è—Ç –≤ –∫–æ–Ω–µ—Ü)

3. **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤—ã—Ö** (—Å—Ç—Ä–æ–∫–∏ 485-503):
   - **–î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è –ø–æ –∫–ª—é—á—É:** `makeNewsKey(item)` = `sourceId::guid/link/title` (—Å—Ç—Ä–æ–∫–∞ 490)
   - **–î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è –ø–æ –∑–∞–≥–æ–ª–æ–≤–∫—É:** `normalizeTitle(item.title)` - –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è —Å lowercase –∏ –∑–∞–º–µ–Ω–æ–π –∫–∞–≤—ã—á–µ–∫ (—Å—Ç—Ä–æ–∫–∏ 491, 494)
   - **–ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞:** –ø—Ä–æ–ø—É—Å–∫–∞—é—Ç—Å—è –Ω–æ–≤–æ—Å—Ç–∏ –±–µ–∑ `title` –∏ –±–µ–∑ `description` (—Å—Ç—Ä–æ–∫–∞ 495)
   - **–õ–∏–º–∏—Ç:** `MAX_NEW_ITEMS_PER_RUN = 2` (—Å—Ç—Ä–æ–∫–∞ 22, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ —Å—Ç—Ä–æ–∫–µ 488)

**–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:**
- ‚ùå –ù–µ—Ç —Ñ–∏–ª—å—Ç—Ä–∞ –ø–æ —Å–≤–µ–∂–µ—Å—Ç–∏ (time window, –Ω–∞–ø—Ä–∏–º–µ—Ä 24/48 —á–∞—Å–æ–≤)
- ‚ùå –ù–µ—Ç —Ñ–∏–ª—å—Ç—Ä–∞ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
- ‚ùå –ù–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –Ω–∞ –∏—Å—Ç–æ—á–Ω–∏–∫ (per-source cap)
- ‚ùå –ù–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –Ω–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏—é (per-category cap)
- ‚úÖ –ï—Å—Ç—å –≥–ª–æ–±–∞–ª—å–Ω—ã–π –ª–∏–º–∏—Ç: `MAX_NEW_ITEMS_PER_RUN = 2` (–æ—á–µ–Ω—å –º–∞–ª–æ!)

---

### 3) –ü—É–±–ª–∏–∫–∞—Ü–∏—è –≤ Telegram

**–§–∞–π–ª:** `netlify/functions/news-cron.js`  
**–§—É–Ω–∫—Ü–∏—è:** `exports.handler` (—Å—Ç—Ä–æ–∫–∏ 134-240)

**–õ–æ–≥–∏–∫–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏:**

1. **–ó–∞–≥—Ä—É–∑–∫–∞ –Ω–æ–≤–æ—Å—Ç–µ–π –∏–∑ —Ñ–æ—Ä—É–º–∞** (—Å—Ç—Ä–æ–∫–∞ 161):
   - –§–∏–ª—å—Ç—Ä: `section === "news"`
   - –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞: –ø–æ `createdAt` (—Å—Ç–∞—Ä—ã–µ –ø–µ—Ä–≤—ã–º–∏)
   - –§–∏–ª—å—Ç—Ä: —Ç–æ–ª—å–∫–æ —Ç–µ, —É –∫–æ—Ç–æ—Ä—ã—Ö `!telegramPostedAt` (—Å—Ç—Ä–æ–∫–∞ 164)
   - –õ–∏–º–∏—Ç: –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 10 (—Å—Ç—Ä–æ–∫–∞ 159)

2. **–û—Ç–ø—Ä–∞–≤–∫–∞ –≤ –∫–∞–Ω–∞–ª—ã** (—Å—Ç—Ä–æ–∫–∏ 185-219):
   - –î–ª—è –∫–∞–∂–¥–æ–π –Ω–æ–≤–æ—Å—Ç–∏ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è —Ç–µ–∫—Å—Ç —á–µ—Ä–µ–∑ `buildPostText(topic)` (—Å—Ç—Ä–æ–∫–∞ 186)
   - **–û—Ç–ø—Ä–∞–≤–∫–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤–æ –í–°–ï —Ç—Ä–∏ –∫–∞–Ω–∞–ª–∞ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ** (—Å—Ç—Ä–æ–∫–∏ 190-215):
     - `TELEGRAM_NEWS_CHAT_ID_RU` (—Ä—É—Å—Å–∫–∏–π)
     - `TELEGRAM_NEWS_CHAT_ID_EN` (–∞–Ω–≥–ª–∏–π—Å–∫–∏–π)
     - `TELEGRAM_NEWS_CHAT_ID_DE` (–Ω–µ–º–µ—Ü–∫–∏–π)
   - –ü–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ –ø–æ–º–µ—á–∞–µ—Ç—Å—è `telegramPostedAt = Date.now()` (—Å—Ç—Ä–æ–∫–∞ 218)

**–í–∞–∂–Ω–æ:**
- ‚ùå **–ö–∞–∂–¥–∞—è –Ω–æ–≤–æ—Å—Ç—å –ø—É–±–ª–∏–∫—É–µ—Ç—Å—è –≤–æ –≤—Å–µ –∫–∞–Ω–∞–ª—ã, –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —è–∑—ã–∫–∞ —Ç–µ–º—ã** (`topic.lang`)
- ‚ùå –ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ `topic.lang` –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π
- ‚úÖ –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ (Promise.all) - –±—ã—Å—Ç—Ä–æ

**–í—ã–±–æ—Ä –∫–∞–Ω–∞–ª–æ–≤:**
- –ö–∞–Ω–∞–ª—ã –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
  - `TELEGRAM_NEWS_CHAT_ID_EN` (–∏–ª–∏ `TELEGRAM_NEWS_CHAT_ID`)
  - `TELEGRAM_NEWS_CHAT_ID_RU`
  - `TELEGRAM_NEWS_CHAT_ID_DE`

---

### 4) –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π "–î–æ–º–æ–≤–æ–≥–æ"

**–§–∞–π–ª:** `netlify/functions/fetch-news.js`  
**–§—É–Ω–∫—Ü–∏—è:** `analyzeNewsItemEn(item)` (—Å—Ç—Ä–æ–∫–∏ 306-363)

**–í—Ö–æ–¥–Ω—ã–µ –ø–æ–ª—è:**
- `item.sourceId` - ID –∏—Å—Ç–æ—á–Ω–∏–∫–∞
- `item.title` - –∑–∞–≥–æ–ª–æ–≤–æ–∫ –Ω–æ–≤–æ—Å—Ç–∏
- `item.link` - —Å—Å—ã–ª–∫–∞ –Ω–∞ –æ—Ä–∏–≥–∏–Ω–∞–ª
- `item.description` - –æ–ø–∏—Å–∞–Ω–∏–µ/—Ñ—Ä–∞–≥–º–µ–Ω—Ç –Ω–æ–≤–æ—Å—Ç–∏

**–°–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç:** `SYSTEM_PROMPT_ANALYSIS` (—Å—Ç—Ä–æ–∫–∏ 98-129)

**–§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞:**
1. Short summary (3-5 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π)
2. Why it matters (2-4 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è)
3. NovaCiv perspective (3-6 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π)
4. Question to the reader (1-2 –≤–æ–ø—Ä–æ—Å–∞)

**–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:**
- `max_tokens: 700` (—Å—Ç—Ä–æ–∫–∞ 339)
- `temperature: 0.4` (—Å—Ç—Ä–æ–∫–∞ 340)
- –ú–æ–¥–µ–ª—å: `gpt-4o-mini` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, —Å—Ç—Ä–æ–∫–∞ 311)

**–ü–µ—Ä–µ–≤–æ–¥:**
- –§—É–Ω–∫—Ü–∏—è `translateText(englishText, targetLangCode)` (—Å—Ç—Ä–æ–∫–∏ 365-430)
- `max_tokens: 900` (—Å—Ç—Ä–æ–∫–∞ 404)
- `temperature: 0.2` (—Å—Ç—Ä–æ–∫–∞ 405)

**–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ:**
- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –î–æ–º–æ–≤–æ–≥–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∫–∞–∫ `topic.content` –≤ —Ñ–æ—Ä—É–º (—Ñ—É–Ω–∫—Ü–∏—è `saveNewsToForumLang`, —Å—Ç—Ä–æ–∫–∞ 270-300)
- –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π –∑–∞–≥–æ–ª–æ–≤–æ–∫ –Ω–æ–≤–æ—Å—Ç–∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∫–∞–∫ `topic.title`
- –Ø–∑—ã–∫ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –∏–∑ `LANG_OUTPUTS` (en/ru/de)

---

## B) –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–∏—á–∏–Ω "–ø—É—Å—Ç—ã—Ö –≤—ã–ø—É—Å–∫–æ–≤"

### 1) –§–∏–ª—å—Ç—Ä—ã

**–ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞/–∏—Å–∫–ª—é—á–µ–Ω–∏—è:** ‚ùå –ù–ï–¢  
**–£–∑–∫–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏:** ‚ùå –ù–ï–¢ –∫–∞—Ç–µ–≥–æ—Ä–∏–π –≤–æ–æ–±—â–µ  
**–ü–æ—Ä–æ–≥ —Å–≤–µ–∂–µ—Å—Ç–∏:** ‚ùå –ù–ï–¢ –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤—Ä–µ–º–µ–Ω–∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏  
**–û–∫–Ω–æ –≤—Ä–µ–º–µ–Ω–∏:** ‚ùå –ù–ï–¢ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–µ—Ç —Ñ–∏–ª—å—Ç—Ä–∞ "—Ç–æ–ª—å–∫–æ –Ω–æ–≤–æ—Å—Ç–∏ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 24/48 —á–∞—Å–æ–≤")

**–î–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–æ:**
- –°—Ç—Ä–æ–∫–∏ 478-503 –≤ `fetch-news.js` - –Ω–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ `pubDate` –Ω–∞ —Å–≤–µ–∂–µ—Å—Ç—å
- –ù–µ—Ç —É—Å–ª–æ–≤–∏–π —Ç–∏–ø–∞ `if (Date.now() - new Date(item.pubDate).getTime() > 24 * 60 * 60 * 1000) continue;`

---

### 2) –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞

**MAX_NEW_ITEMS_PER_RUN = 2** (—Å—Ç—Ä–æ–∫–∞ 22) - **–ö–†–ò–¢–ò–ß–ï–°–ö–ò –ú–ê–õ–û!**

**–î–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–æ:**
```javascript
// –°—Ç—Ä–æ–∫–∞ 488 –≤ fetch-news.js
if (toProcess.length >= MAX_NEW_ITEMS_PER_RUN) break;
```

**–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è:**
- –ó–∞ –æ–¥–∏–Ω –∑–∞–ø—É—Å–∫ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –º–∞–∫—Å–∏–º—É–º 2 –Ω–æ–≤–æ—Å—Ç–∏
- –ï—Å–ª–∏ –∑–∞ –¥–µ–Ω—å –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Ç–æ–ª—å–∫–æ 1 –∑–∞–ø—É—Å–∫ cron, —Ç–æ –≤ –¥–µ–Ω—å –ø–æ—è–≤–ª—è–µ—Ç—Å—è –º–∞–∫—Å–∏–º—É–º 2 –Ω–æ–≤–æ—Å—Ç–∏
- –ü—Ä–∏ —Ç–∞–∫–æ–º –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–∏ –≤—ã—Å–æ–∫–∞ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å, —á—Ç–æ —á–∞—Å—Ç—å —è–∑—ã–∫–æ–≤ –æ—Å—Ç–∞–Ω–µ—Ç—Å—è –±–µ–∑ –Ω–æ–≤–æ—Å—Ç–µ–π

**Per-source cap:** ‚ùå –ù–ï–¢  
**Per-category cap:** ‚ùå –ù–ï–¢ (–∫–∞—Ç–µ–≥–æ—Ä–∏–π –Ω–µ—Ç)

---

### 3) –î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è

**–ú–µ—Ö–∞–Ω–∏–∑–º—ã –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏–∏:**

1. **–ü–æ –∫–ª—é—á—É –∏—Å—Ç–æ—á–Ω–∏–∫–∞:** `makeNewsKey(item)` = `sourceId::guid/link/title` (—Å—Ç—Ä–æ–∫–∞ 214-217)
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏: `if (processedKeys[key]) continue;` (—Å—Ç—Ä–æ–∫–∞ 493)

2. **–ü–æ –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–º—É –∑–∞–≥–æ–ª–æ–≤–∫—É:** `normalizeTitle(item.title)` (—Å—Ç—Ä–æ–∫–∞ 205-212)
   - –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è: lowercase, –∑–∞–º–µ–Ω–∞ –ø—Ä–æ–±–µ–ª–æ–≤, –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –∫–∞–≤—ã—á–µ–∫
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è: `if (titleKey && titleKeys[titleKey]) continue;` (—Å—Ç—Ä–æ–∫–∞ 494)

**–ü—Ä–æ–±–ª–µ–º—ã:**
- ‚ö†Ô∏è –î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è –ø–æ –∑–∞–≥–æ–ª–æ–≤–∫—É –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–ª–∏—à–∫–æ–º –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ–π: —Ä–∞–∑–Ω—ã–µ –Ω–æ–≤–æ—Å—Ç–∏ —Å –ø–æ—Ö–æ–∂–∏–º–∏ –∑–∞–≥–æ–ª–æ–≤–∫–∞–º–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω—ã
- ‚ö†Ô∏è –ù–µ—Ç –≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ –æ–∫–Ω–∞ –¥–ª—è –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–µ —Å—á–∏—Ç–∞—Ç—å –¥—É–±–ª–µ–º, –µ—Å–ª–∏ –ø—Ä–æ—à–ª–æ > 30 –¥–Ω–µ–π)

**–î–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–æ:**
```javascript
// –°—Ç—Ä–æ–∫–∏ 490-494 –≤ fetch-news.js
const key = makeNewsKey(item);
const titleKey = normalizeTitle(item.title);

if (processedKeys[key]) continue;
if (titleKey && titleKeys[titleKey]) continue;
```

---

### 4) –û—à–∏–±–∫–∏ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤

**–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ RSS-–∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤:**

**–§–∞–π–ª:** `netlify/functions/fetch-news.js`, —Å—Ç—Ä–æ–∫–∏ 469-476

```javascript
for (const src of SOURCES) {
  try {
    const items = await fetchRssSource(src);
    allItems.push(...items);
  } catch (err) {
    console.error("RSS fetch error:", src.id, err);
  }
}
```

**–ê–Ω–∞–ª–∏–∑:**
- ‚úÖ –û—à–∏–±–∫–∏ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è (try/catch)
- ‚úÖ –°–±–æ—Ä–∫–∞ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è –¥–∞–∂–µ –µ—Å–ª–∏ —á–∞—Å—Ç—å –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ —É–ø–∞–ª–∞ (graceful degradation)
- ‚ùå –û—à–∏–±–∫–∏ —Ç–æ–ª—å–∫–æ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è, –Ω–æ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
- ‚ùå –ù–µ—Ç —Ç–∞–π–º–∞—É—Ç–∞ –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤ (–º–æ–∂–µ—Ç –≤–∏—Å–µ—Ç—å –¥–æ–ª–≥–æ)
- ‚ùå –ù–µ—Ç retry-–ª–æ–≥–∏–∫–∏

**–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:**
- 403/429 (rate limiting) - –±—É–¥–µ—Ç –ø—Ä–æ—Å—Ç–æ –ø—Ä–æ–ø—É—â–µ–Ω
- –¢–∞–π–º–∞—É—Ç—ã - –∑–∞–ø—Ä–æ—Å –º–æ–∂–µ—Ç –≤–∏—Å–µ—Ç—å –¥–æ —Ç–∞–π–º–∞—É—Ç–∞ Netlify Function
- –ù–µ–≤–µ—Ä–Ω—ã–µ URL RSS - –±—É–¥–µ—Ç –æ—à–∏–±–∫–∞, –Ω–æ –∏—Å—Ç–æ—á–Ω–∏–∫ –ø—Ä–æ—Å—Ç–æ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—Å—è

**–§—É–Ω–∫—Ü–∏—è fetchRssSource (—Å—Ç—Ä–æ–∫–∏ 192-203):**
```javascript
async function fetchRssSource(source) {
  const res = await fetch(source.url);
  if (!res.ok) {
    throw new Error(`RSS fetch failed for ${source.id}: HTTP ${res.status}`);
  }
  // ...
}
```
- ‚ùå –ù–µ—Ç —Ç–∞–π–º–∞—É—Ç–∞
- ‚ùå –ù–µ—Ç retry

---

### 5) –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è

**–ê–Ω–∞–ª–∏–∑ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –ø–æ —è–∑—ã–∫–∞–º:**

- **RU:** 3 –∏—Å—Ç–æ—á–Ω–∏–∫–∞ (BBC Russian, DW Russian, Meduza)
- **EN:** 3 –∏—Å—Ç–æ—á–Ω–∏–∫–∞ (BBC World, DW World EN, Guardian World)
- **DE:** 2 –∏—Å—Ç–æ—á–Ω–∏–∫–∞ (Tagesschau, DW German) - **–ú–ï–ù–¨–®–ï, –ß–ï–ú –£ –î–†–£–ì–ò–•!**

**–ü—Ä–æ–±–ª–µ–º–∞:**
- ‚ö†Ô∏è –ù–µ–º–µ—Ü–∫–∏–π —è–∑—ã–∫ –∏–º–µ–µ—Ç —Ç–æ–ª—å–∫–æ 2 –∏—Å—Ç–æ—á–Ω–∏–∫–∞, —Ç–æ–≥–¥–∞ –∫–∞–∫ RU –∏ EN –∏–º–µ—é—Ç –ø–æ 3
- ‚ö†Ô∏è –ï—Å–ª–∏ –æ–¥–∏–Ω –∏–∑ –¥–≤—É—Ö –Ω–µ–º–µ—Ü–∫–∏—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ —É–ø–∞–¥–µ—Ç, –æ—Å—Ç–∞–Ω–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ 1 –∏—Å—Ç–æ—á–Ω–∏–∫
- ‚ö†Ô∏è –ù–µ—Ç –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∏ –ø–æ —è–∑—ã–∫–∞–º

**–î–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–æ:**
- –°—Ç—Ä–æ–∫–∏ 28-74 –≤ `fetch-news.js` - –º–∞—Å—Å–∏–≤ `SOURCES`

---

### 6) –ü–æ—Ä—è–¥–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

**–õ–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –Ω–æ–≤–æ—Å—Ç–µ–π (—Å—Ç—Ä–æ–∫–∏ 520-596):**

```javascript
for (const entry of toProcess) {
  const { item, key, titleKey } = entry;
  try {
    const analyticEn = await analyzeNewsItemEn(item);
    // ... –æ–±—Ä–∞–±–æ—Ç–∫–∞ —è–∑—ã–∫–æ–≤
    successCount += 1;
  } catch (err) {
    console.error("Failed to process news item:", item.title, err);
  }
}
```

**–ê–Ω–∞–ª–∏–∑:**
- ‚úÖ –û—à–∏–±–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ–¥–Ω–æ–π –Ω–æ–≤–æ—Å—Ç–∏ –Ω–µ –ø—Ä–µ—Ä—ã–≤–∞–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—Å—Ç–∞–ª—å–Ω—ã—Ö
- ‚úÖ –ü—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–ª–µ–¥—É—é—â–∏—Ö –Ω–æ–≤–æ—Å—Ç–µ–π –∏–∑ `toProcess`
- ‚ùå –û—à–∏–±–∫–∏ —Ç–æ–ª—å–∫–æ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è, –Ω–µ –Ω–∞–∫–∞–ø–ª–∏–≤–∞—é—Ç—Å—è –¥–ª—è –æ—Ç—á–µ—Ç–∞

---

### –¢–æ–ø-3 –ø—Ä–∏—á–∏–Ω—ã –ø—É—Å—Ç—ã—Ö –≤—ã–ø—É—Å–∫–æ–≤

#### 1. **MAX_NEW_ITEMS_PER_RUN = 2 (–ö–†–ò–¢–ò–ß–ù–û)**

**–î–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–æ:** –°—Ç—Ä–æ–∫–∞ 22, 488 –≤ `fetch-news.js`

**–ü–æ—á–µ–º—É —ç—Ç–æ –ø—Ä–æ–±–ª–µ–º–∞:**
- –ó–∞ –æ–¥–∏–Ω –∑–∞–ø—É—Å–∫ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –º–∞–∫—Å–∏–º—É–º 2 –Ω–æ–≤–æ—Å—Ç–∏
- –ï—Å–ª–∏ cron –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —Ä–µ–¥–∫–æ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ä–∞–∑ –≤ –¥–µ–Ω—å), —Ç–æ –≤ –¥–µ–Ω—å –º–∞–∫—Å–∏–º—É–º 2 –Ω–æ–≤–æ—Å—Ç–∏
- –ü—Ä–∏ —Ç–∞–∫–æ–º –º–∞–ª–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –≤—ã—Å–æ–∫–∞ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å, —á—Ç–æ –¥–ª—è –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —è–∑—ã–∫–æ–≤ –Ω–µ –±—É–¥–µ—Ç –Ω–æ–≤–æ—Å—Ç–µ–π
- –ù–æ–≤–æ—Å—Ç–∏ –ø—É–±–ª–∏–∫—É—é—Ç—Å—è –≤–æ –≤—Å–µ –∫–∞–Ω–∞–ª—ã –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —è–∑—ã–∫–∞ (—Å–º. `news-cron.js`), –Ω–æ –µ—Å–ª–∏ –Ω–æ–≤–æ—Å—Ç–µ–π –º–∞–ª–æ, –∫–∞–Ω–∞–ª—ã –º–æ–≥—É—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º–∏

#### 2. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ñ–∏–ª—å—Ç—Ä–∞ –ø–æ —Å–≤–µ–∂–µ—Å—Ç–∏**

**–î–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–æ:** –°—Ç—Ä–æ–∫–∏ 478-503 –≤ `fetch-news.js` - –Ω–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤—Ä–µ–º–µ–Ω–∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏

**–ü–æ—á–µ–º—É —ç—Ç–æ –ø—Ä–æ–±–ª–µ–º–∞:**
- –°—Ç–∞—Ä—ã–µ –Ω–æ–≤–æ—Å—Ç–∏ –º–æ–≥—É—Ç –Ω–∞–∫–∞–ø–ª–∏–≤–∞—Ç—å—Å—è –∏ –∑–∞–Ω–∏–º–∞—Ç—å —Å–ª–æ—Ç—ã –≤ `MAX_NEW_ITEMS_PER_RUN`
- –ù–æ–≤–æ—Å—Ç–∏ –±–µ–∑ –¥–∞—Ç—ã (`pubDate`) –ø–æ–ø–∞–¥–∞—é—Ç –≤ –∫–æ–Ω–µ—Ü —Å–ø–∏—Å–∫–∞, –Ω–æ –≤—Å–µ —Ä–∞–≤–Ω–æ –º–æ–≥—É—Ç –±—ã—Ç—å –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã
- –ù–µ—Ç –≥–∞—Ä–∞–Ω—Ç–∏–∏, —á—Ç–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ —Å–≤–µ–∂–∏–µ –Ω–æ–≤–æ—Å—Ç–∏

#### 3. **–ù–µ—Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –ø–æ —è–∑—ã–∫–∞–º**

**–î–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–æ:** –°—Ç—Ä–æ–∫–∏ 28-74 –≤ `fetch-news.js`

**–ü–æ—á–µ–º—É —ç—Ç–æ –ø—Ä–æ–±–ª–µ–º–∞:**
- DE –∏–º–µ–µ—Ç —Ç–æ–ª—å–∫–æ 2 –∏—Å—Ç–æ—á–Ω–∏–∫–∞ (Tagesschau, DW German)
- RU –∏ EN –∏–º–µ—é—Ç –ø–æ 3 –∏—Å—Ç–æ—á–Ω–∏–∫–∞
- –ï—Å–ª–∏ –æ–¥–∏–Ω –∏–∑ –¥–≤—É—Ö –Ω–µ–º–µ—Ü–∫–∏—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ —É–ø–∞–¥–µ—Ç –∏–ª–∏ –Ω–µ –±—É–¥–µ—Ç –Ω–æ–≤—ã—Ö –Ω–æ–≤–æ—Å—Ç–µ–π, –Ω–µ–º–µ—Ü–∫–∏–π –∫–∞–Ω–∞–ª –º–æ–∂–µ—Ç –æ—Å—Ç–∞—Ç—å—Å—è –ø—É—Å—Ç—ã–º

---

## C) –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—é –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤

### –§–æ—Ä–º–∞—Ç –∑–∞–ø–∏—Å–∏ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –≤ –∫–æ–Ω—Ñ–∏–≥–µ

**–¢–µ–∫—É—â–∏–π —Ñ–æ—Ä–º–∞—Ç (–∏–∑ `fetch-news.js`, —Å—Ç—Ä–æ–∫–∏ 28-74):**
```javascript
{
  id: "unique_source_id",
  url: "https://rss-feed-url",
  languages: ["ru"], // –∏–ª–∏ ["en"], ["de"], –∏–ª–∏ ["ru", "en"] –¥–ª—è –º–Ω–æ–≥–æ—è–∑—ã—á–Ω—ã—Ö
}
```

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ (—Å –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏ –∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º):**
```javascript
{
  id: "unique_source_id",
  url: "https://rss-feed-url",
  languages: ["en"],
  categories: ["politics", "economics"], // –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
  priority: 1, // 1 = high, 2 = medium, 3 = fallback (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
  enabled: true, // –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è –æ—Ç–∫–ª—é—á–µ–Ω–∏—è –±–µ–∑ —É–¥–∞–ª–µ–Ω–∏—è
}
```

---

### –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –ø–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º

#### –ö–∞—Ç–µ–≥–æ—Ä–∏—è: –ü–æ–ª–∏—Ç–∏–∫–∞ (Politics)

**EN (–∞–Ω–≥–ª–∏–π—Å–∫–∏–π):**
1. **Reuters World** - `https://www.reuters.com/world/rss`
2. **AP News Top** - `https://apnews.com/apf-topnews` (RSS –Ω—É–∂–Ω–æ —É—Ç–æ—á–Ω–∏—Ç—å)
3. **Al Jazeera English** - `https://www.aljazeera.com/xml/rss/all.xml`
4. **Financial Times World** - `https://www.ft.com/?format=rss` (RSS –Ω—É–∂–Ω–æ —É—Ç–æ—á–Ω–∏—Ç—å)
5. **CNN World** - `https://rss.cnn.com/rss/edition.rss`
6. **Politico** - `https://www.politico.com/rss/politicopicks.xml` (RSS –Ω—É–∂–Ω–æ —É—Ç–æ—á–Ω–∏—Ç—å)
7. **Foreign Policy** - `https://foreignpolicy.com/feed/`
8. **The Economist World** - `https://www.economist.com/world/rss.xml` (RSS –Ω—É–∂–Ω–æ —É—Ç–æ—á–Ω–∏—Ç—å)

**RU (—Ä—É—Å—Å–∫–∏–π):**
1. **BBC Russian (—É–∂–µ –µ—Å—Ç—å)** - `https://feeds.bbci.co.uk/russian/rss.xml`
2. **DW Russian (—É–∂–µ –µ—Å—Ç—å)** - `https://rss.dw.com/rdf/rss-ru-all`
3. **Meduza (—É–∂–µ –µ—Å—Ç—å)** - `https://meduza.io/rss/news`
4. **RFI Russian** - `https://ru.rfi.fr/rss/` (RSS –Ω—É–∂–Ω–æ —É—Ç–æ—á–Ω–∏—Ç—å)
5. **–ì–æ–ª–æ—Å –ê–º–µ—Ä–∏–∫–∏ (VOA Russian)** - `https://www.voanews.com/rss?tab=all&zoneId=3739` (RSS –Ω—É–∂–Ω–æ —É—Ç–æ—á–Ω–∏—Ç—å)
6. **–†–∞–¥–∏–æ –°–≤–æ–±–æ–¥–∞ (Radio Free Europe)** - `https://www.rferl.org/rss` (RSS –Ω—É–∂–Ω–æ —É—Ç–æ—á–Ω–∏—Ç—å)

**DE (–Ω–µ–º–µ—Ü–∫–∏–π):**
1. **Tagesschau (—É–∂–µ –µ—Å—Ç—å)** - `https://www.tagesschau.de/xml/rss2`
2. **DW German (—É–∂–µ –µ—Å—Ç—å)** - `https://rss.dw.com/rdf/rss-de-all`
3. **Zeit Online Politik** - `https://www.zeit.de/politik/index` (RSS –Ω—É–∂–Ω–æ —É—Ç–æ—á–Ω–∏—Ç—å)
4. **Spiegel Politik** - `https://www.spiegel.de/politik/index.rss`
5. **S√ºddeutsche Zeitung Politik** - `https://www.sueddeutsche.de/politik` (RSS –Ω—É–∂–Ω–æ —É—Ç–æ—á–Ω–∏—Ç—å)

---

#### –ö–∞—Ç–µ–≥–æ—Ä–∏—è: –≠–∫–æ–Ω–æ–º–∏–∫–∞ (Economics)

**EN:**
1. **Reuters Business** - `https://www.reuters.com/business/rss`
2. **Financial Times** - `https://www.ft.com/?format=rss` (RSS –Ω—É–∂–Ω–æ —É—Ç–æ—á–Ω–∏—Ç—å)
3. **Bloomberg** - `https://www.bloomberg.com/feed/topics/economics` (RSS –Ω—É–∂–Ω–æ —É—Ç–æ—á–Ω–∏—Ç—å)
4. **The Economist Business** - `https://www.economist.com/business/rss.xml` (RSS –Ω—É–∂–Ω–æ —É—Ç–æ—á–Ω–∏—Ç—å)
5. **WSJ Economics** - `https://www.wsj.com/xml/rss/3_7085.xml` (RSS –Ω—É–∂–Ω–æ —É—Ç–æ—á–Ω–∏—Ç—å)

**RU:**
1. **BBC Russian Business** - `https://feeds.bbci.co.uk/russian/business/rss.xml`
2. **DW Russian Business** - `https://rss.dw.com/rdf/rss-ru-business` (RSS –Ω—É–∂–Ω–æ —É—Ç–æ—á–Ω–∏—Ç—å)
3. **Meduza Business** - `https://meduza.io/rss/business` (RSS –Ω—É–∂–Ω–æ —É—Ç–æ—á–Ω–∏—Ç—å)

**DE:**
1. **Spiegel Wirtschaft** - `https://www.spiegel.de/wirtschaft/index.rss`
2. **Zeit Online Wirtschaft** - `https://www.zeit.de/wirtschaft/index` (RSS –Ω—É–∂–Ω–æ —É—Ç–æ—á–Ω–∏—Ç—å)

---

#### –ö–∞—Ç–µ–≥–æ—Ä–∏—è: –≠–∫–æ–ª–æ–≥–∏—è (Environment)

**EN:**
1. **Climate Change News** - `https://www.climatechangenews.com/feed/`
2. **Inside Climate News** - `https://insideclimatenews.org/feed/`
3. **Carbon Brief** - `https://www.carbonbrief.org/feed`
4. **Grist** - `https://grist.org/feed/`
5. **The Guardian Environment** - `https://www.theguardian.com/environment/rss` (—É–∂–µ –µ—Å—Ç—å Guardian World)

**RU:**
1. **BBC Russian Science/Environment** - `https://feeds.bbci.co.uk/russian/science/rss.xml` (–±–ª–∏–∑–∫–æ –∫ —ç–∫–æ–ª–æ–≥–∏–∏)
2. **DW Russian Environment** - `https://rss.dw.com/rdf/rss-ru-environment` (RSS –Ω—É–∂–Ω–æ —É—Ç–æ—á–Ω–∏—Ç—å)

**DE:**
1. **Tagesschau Umwelt** - `https://www.tagesschau.de/thema/umwelt/index.html` (RSS –Ω—É–∂–Ω–æ —É—Ç–æ—á–Ω–∏—Ç—å)
2. **Spiegel Wissenschaft** - `https://www.spiegel.de/wissenschaft/index.rss` (–±–ª–∏–∑–∫–æ –∫ —ç–∫–æ–ª–æ–≥–∏–∏)

---

#### –ö–∞—Ç–µ–≥–æ—Ä–∏—è: –ù–∞—É–∫–∞/–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ (Science/Technology)

**EN:**
1. **BBC Science** - `https://feeds.bbci.co.uk/news/science_and_environment/rss.xml`
2. **Nature News** - `https://www.nature.com/nature.rss`
3. **Science Magazine** - `https://www.science.org/action/showFeed?type=etoc&feed=rss&jc=science` (RSS –Ω—É–∂–Ω–æ —É—Ç–æ—á–Ω–∏—Ç—å)
4. **Ars Technica** - `https://feeds.arstechnica.com/arstechnica/index`
5. **The Verge** - `https://www.theverge.com/rss/index.xml`
6. **Wired** - `https://www.wired.com/feed/rss`

**RU:**
1. **BBC Russian Science** - `https://feeds.bbci.co.uk/russian/science/rss.xml`
2. **DW Russian Science** - `https://rss.dw.com/rdf/rss-ru-science` (RSS –Ω—É–∂–Ω–æ —É—Ç–æ—á–Ω–∏—Ç—å)

**DE:**
1. **Spiegel Wissenschaft** - `https://www.spiegel.de/wissenschaft/index.rss`
2. **Zeit Online Wissenschaft** - `https://www.zeit.de/wissen/index` (RSS –Ω—É–∂–Ω–æ —É—Ç–æ—á–Ω–∏—Ç—å)

---

### –ì–¥–µ –≤ –∫–æ–Ω—Ñ–∏–≥–µ –ø—Ä–æ–ø–∏—Å–∞—Ç—å –Ω–æ–≤—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏

**–§–∞–π–ª:** `netlify/functions/fetch-news.js`  
**–°—Ç—Ä–æ–∫–∏:** 28-74 (–º–∞—Å—Å–∏–≤ `SOURCES`)

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –≤ –∫–æ–Ω–µ—Ü –º–∞—Å—Å–∏–≤–∞ `SOURCES`, –≥—Ä—É–ø–ø–∏—Ä—É—è –ø–æ —è–∑—ã–∫–∞–º:

```javascript
const SOURCES = [
  // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ ...
  
  // –ù–æ–≤—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ - –ü–æ–ª–∏—Ç–∏–∫–∞
  {
    id: "reuters_world",
    url: "https://www.reuters.com/world/rss",
    languages: ["en"],
  },
  {
    id: "aljazeera_english",
    url: "https://www.aljazeera.com/xml/rss/all.xml",
    languages: ["en"],
  },
  // ... –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ
];
```

**–í–∞–∂–Ω–æ:** 
- –ú–Ω–æ–≥–∏–µ RSS URL –Ω—É–∂–Ω–æ —É—Ç–æ—á–Ω–∏—Ç—å –≤—Ä—É—á–Ω—É—é (–Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Å–∞–π—Ç—ã –Ω–µ –ø—É–±–ª–∏–∫—É—é—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ RSS-—Ñ–∏–¥—ã)
- –ü–µ—Ä–µ–¥ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å RSS-—Ñ–∏–¥–∞
- –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–∞–∂–¥—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –æ—Ç–¥–µ–ª—å–Ω–æ –ø–µ—Ä–µ–¥ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º –≤ –ø—Ä–æ–¥

---

## D) –ú–µ—Ö–∞–Ω–∏–∑–º—ã —Å—Ç—Ä–∞—Ö–æ–≤–∫–∏ –æ—Ç –ø—É—Å—Ç–æ—Ç—ã (–º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è)

### 1) Minimum daily quota per language

**–ò–¥–µ—è:** –ï—Å–ª–∏ –Ω–æ–≤–æ—Å—Ç–µ–π –¥–ª—è —è–∑—ã–∫–∞ –º–µ–Ω—å—à–µ N, —Ä–∞—Å—à–∏—Ä–∏—Ç—å –æ–∫–Ω–æ –≤—Ä–µ–º–µ–Ω–∏ –∏–ª–∏ –≤–∫–ª—é—á–∏—Ç—å fallback-–∫–∞—Ç–µ–≥–æ—Ä–∏–∏.

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è (–º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è):**

**–§–∞–π–ª:** `netlify/functions/fetch-news.js`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**

1. **–î–æ–±–∞–≤–∏—Ç—å –∫–æ–Ω—Å—Ç–∞–Ω—Ç—É:**
```javascript
const MIN_ITEMS_PER_LANGUAGE = 3; // –º–∏–Ω–∏–º—É–º –Ω–æ–≤–æ—Å—Ç–µ–π –Ω–∞ —è–∑—ã–∫
const MAX_AGE_HOURS = 24; // –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 24 —á–∞—Å–∞
const FALLBACK_MAX_AGE_HOURS = 72; // fallback: 72 —á–∞—Å–∞
```

2. **–î–æ–±–∞–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø–æ –≤—Ä–µ–º–µ–Ω–∏:**
```javascript
function isItemFresh(item, maxAgeHours) {
  if (!item.pubDate) return false; // –±–µ–∑ –¥–∞—Ç—ã —Å—á–∏—Ç–∞–µ–º —É—Å—Ç–∞—Ä–µ–≤—à–∏–º–∏
  const pubTime = new Date(item.pubDate).getTime();
  const age = Date.now() - pubTime;
  return age <= (maxAgeHours * 60 * 60 * 1000);
}
```

3. **–ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –ª–æ–≥–∏–∫—É –æ—Ç–±–æ—Ä–∞ (—Å—Ç—Ä–æ–∫–∏ 485-503):**
```javascript
// 3) –û—Ç–±–∏—Ä–∞–µ–º –Ω–æ–≤—ã–µ —Å —É—á–µ—Ç–æ–º –º–∏–Ω–∏–º—É–º–∞ –Ω–∞ —è–∑—ã–∫
const toProcess = [];
const itemsByLang = { en: [], ru: [], de: [] };

// –°–Ω–∞—á–∞–ª–∞ –æ—Ç–±–∏—Ä–∞–µ–º —Å–≤–µ–∂–∏–µ (24—á)
for (const item of allItems) {
  if (!isItemFresh(item, MAX_AGE_HOURS)) continue;
  
  const key = makeNewsKey(item);
  const titleKey = normalizeTitle(item.title);
  
  if (processedKeys[key]) continue;
  if (titleKey && titleKeys[titleKey]) continue;
  if (!item.title && !item.description) continue;
  
  // –†–∞—Å–ø—Ä–µ–¥–µ–ª—è–µ–º –ø–æ —è–∑—ã–∫–∞–º –∏—Å—Ç–æ—á–Ω–∏–∫–∞
  for (const lang of item.targetLangs || []) {
    if (itemsByLang[lang]) {
      itemsByLang[lang].push({ item, key, titleKey });
    }
  }
}

// –ü—Ä–æ–≤–µ—Ä—è–µ–º –º–∏–Ω–∏–º—É–º –Ω–∞ —è–∑—ã–∫ –∏ —Ä–∞—Å—à–∏—Ä—è–µ–º –æ–∫–Ω–æ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
for (const lang of ['en', 'ru', 'de']) {
  if (itemsByLang[lang].length < MIN_ITEMS_PER_LANGUAGE) {
    // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –±–µ—Ä–µ–º –∏–∑ fallback (72—á)
    for (const item of allItems) {
      if (itemsByLang[lang].length >= MIN_ITEMS_PER_LANGUAGE) break;
      if (!isItemFresh(item, FALLBACK_MAX_AGE_HOURS)) continue;
      if (processedKeys[makeNewsKey(item)]) continue;
      // ... –¥–æ–±–∞–≤–∏—Ç—å –≤ itemsByLang[lang]
    }
  }
  // –ë–µ—Ä–µ–º –ø–µ—Ä–≤—ã–µ MAX_NEW_ITEMS_PER_RUN –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —è–∑—ã–∫–∞
  toProcess.push(...itemsByLang[lang].slice(0, MAX_NEW_ITEMS_PER_RUN));
}
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –≠—Ç–æ —Ç—Ä–µ–±—É–µ—Ç —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ –ª–æ–≥–∏–∫–∏, –Ω–æ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –ø—Ä–æ—â–µ - –ø—Ä–æ—Å—Ç–æ —Ä–∞—Å—à–∏—Ä–∏—Ç—å –æ–∫–Ω–æ –≤—Ä–µ–º–µ–Ω–∏ –≥–ª–æ–±–∞–ª—å–Ω–æ.

---

### 2) Fallback sources (–æ–±—â–∏–π –ø—É–ª –Ω–∞–¥–µ–∂–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤)

**–ò–¥–µ—è:** –°–ø–∏—Å–æ–∫ –Ω–∞–¥–µ–∂–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –æ—Å–Ω–æ–≤–Ω—ã—Ö –Ω–æ–≤–æ—Å—Ç–µ–π –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ.

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è (–º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è):**

**–§–∞–π–ª:** `netlify/functions/fetch-news.js`

**–î–æ–±–∞–≤–∏—Ç—å –ø–æ—Å–ª–µ –º–∞—Å—Å–∏–≤–∞ SOURCES:**
```javascript
const FALLBACK_SOURCES = [
  {
    id: "bbc_world", // —É–∂–µ –≤ –æ—Å–Ω–æ–≤–Ω—ã—Ö, –Ω–æ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –¥—Ä—É–≥–∏–µ
    url: "https://feeds.bbci.co.uk/news/world/rss.xml",
    languages: ["en", "ru", "de"], // –º–Ω–æ–≥–æ—è–∑—ã—á–Ω—ã–π fallback
  },
];
```

**–ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –∑–∞–≥—Ä—É–∑–∫—É –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ (—Å—Ç—Ä–æ–∫–∏ 467-476):**
```javascript
// 1) –¢—è–Ω–µ–º –≤—Å–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏
const allItems = [];
for (const src of SOURCES) {
  try {
    const items = await fetchRssSource(src);
    allItems.push(...items);
  } catch (err) {
    console.error("RSS fetch error:", src.id, err);
  }
}

// –ï—Å–ª–∏ –Ω–æ–≤–æ—Å—Ç–µ–π –º–∞–ª–æ, –¥–æ–±–∞–≤–ª—è–µ–º fallback
if (allItems.length < MIN_ITEMS_PER_LANGUAGE * 3) {
  for (const src of FALLBACK_SOURCES) {
    try {
      const items = await fetchRssSource(src);
      allItems.push(...items);
    } catch (err) {
      console.error("Fallback RSS fetch error:", src.id, err);
    }
  }
}
```

---

### 3) Graceful degradation (–µ—Å–ª–∏ —á–∞—Å—Ç—å –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –ø–∞–¥–∞–µ—Ç)

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:** ‚úÖ –£–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ (—Å—Ç—Ä–æ–∫–∏ 469-476)

**–£–ª—É—á—à–µ–Ω–∏—è:**
- –î–æ–±–∞–≤–∏—Ç—å —Å—á–µ—Ç—á–∏–∫ —É—Å–ø–µ—à–Ω—ã—Ö/–Ω–µ—É—Å–ø–µ—à–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
- –î–æ–±–∞–≤–∏—Ç—å —Ç–∞–π–º–∞—É—Ç –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**

**–§–∞–π–ª:** `netlify/functions/fetch-news.js`

**–ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é fetchRssSource:**
```javascript
async function fetchRssSource(source, timeoutMs = 10000) {
  const controller = new AbortController();
  const timeoutId = setTimeout(() => controller.abort(), timeoutMs);
  
  try {
    const res = await fetch(source.url, { signal: controller.signal });
    clearTimeout(timeoutId);
    
    if (!res.ok) {
      throw new Error(`RSS fetch failed for ${source.id}: HTTP ${res.status}`);
    }
    const xml = await res.text();
    const items = parseRss(xml, source.id, source.languages || []);
    return items;
  } catch (err) {
    clearTimeout(timeoutId);
    throw err;
  }
}
```

**–ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –∑–∞–≥—Ä—É–∑–∫—É –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤:**
```javascript
const sourceStats = { success: 0, failed: 0, errors: [] };

for (const src of SOURCES) {
  try {
    const items = await fetchRssSource(src, 10000); // 10 —Å–µ–∫ —Ç–∞–π–º–∞—É—Ç
    allItems.push(...items);
    sourceStats.success++;
  } catch (err) {
    sourceStats.failed++;
    sourceStats.errors.push({ id: src.id, error: err.message });
    console.error("RSS fetch error:", src.id, err);
  }
}

// –õ–æ–≥–∏—Ä—É–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
console.log("Source stats:", sourceStats);
```

---

### 4) –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (–∫–æ–º–ø–∞–∫—Ç–Ω—ã–π –æ—Ç—á–µ—Ç –ø–æ —Å–±–æ—Ä–∫–µ)

**–ò–¥–µ—è:** –û–¥–∏–Ω –ª–æ–≥-–æ—Ç—á–µ—Ç: —Å–∫–æ–ª—å–∫–æ –≤–∑—è–ª–∏ —Å –∫–∞–∂–¥–æ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –∏ –ø–æ—á–µ–º—É –æ—Ç–±—Ä–æ—à–µ–Ω–æ.

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**

**–§–∞–π–ª:** `netlify/functions/fetch-news.js`

**–î–æ–±–∞–≤–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è:**
```javascript
const runLog = {
  timestamp: Date.now(),
  sources: {},
  items: {
    fetched: 0,
    fresh: 0,
    duplicates: 0,
    processed: 0,
    failed: 0,
  },
  byLanguage: { en: 0, ru: 0, de: 0 },
};
```

**–ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É:**
```javascript
// –ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
for (const src of SOURCES) {
  try {
    const items = await fetchRssSource(src);
    runLog.sources[src.id] = { status: 'ok', count: items.length };
    allItems.push(...items);
    runLog.items.fetched += items.length;
  } catch (err) {
    runLog.sources[src.id] = { status: 'error', error: err.message };
  }
}

// –ü—Ä–∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
for (const item of allItems) {
  if (!isItemFresh(item, MAX_AGE_HOURS)) {
    runLog.items.fresh--; // –Ω–µ —Å–≤–µ–∂–∞—è
    continue;
  }
  // ... –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥—É–±–ª–µ–π
  if (processedKeys[key]) {
    runLog.items.duplicates++;
    continue;
  }
  // ...
}

// –í –∫–æ–Ω—Ü–µ handler
console.log("News run log:", JSON.stringify(runLog, null, 2));
```

**–í–µ—Ä–Ω—É—Ç—å –≤ response:**
```javascript
return {
  statusCode: 200,
  body: JSON.stringify({
    ok: true,
    processed: successCount,
    titles,
    log: runLog, // –¥–æ–±–∞–≤–∏—Ç—å –ª–æ–≥
  }),
};
```

---

## E) –ò—Ç–æ–≥–æ–≤—ã–π –æ—Ç—á–µ—Ç

### 1) –ù–∞–π–¥–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã/—Ç–æ—á–∫–∏ –≤—Ö–æ–¥–∞

**–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∞–π–ª—ã:**

1. **`netlify/functions/fetch-news.js`** (618 —Å—Ç—Ä–æ–∫)
   - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤: —Å—Ç—Ä–æ–∫–∏ 28-74 (–º–∞—Å—Å–∏–≤ `SOURCES`)
   - –õ–æ–≥–∏–∫–∞ –æ—Ç–±–æ—Ä–∞ –Ω–æ–≤–æ—Å—Ç–µ–π: —Å—Ç—Ä–æ–∫–∏ 467-503
   - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è –î–æ–º–æ–≤–æ–≥–æ: —Å—Ç—Ä–æ–∫–∏ 306-363 (`analyzeNewsItemEn`)
   - –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞: `exports.handler` (—Å—Ç—Ä–æ–∫–∞ 434)

2. **`netlify/functions/news-cron.js`** (241 —Å—Ç—Ä–æ–∫–∞)
   - –ü—É–±–ª–∏–∫–∞—Ü–∏—è –≤ Telegram: —Å—Ç—Ä–æ–∫–∏ 134-240
   - –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞: `exports.handler` (—Å—Ç—Ä–æ–∫–∞ 134)
   - –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–æ–≤–æ—Å—Ç–µ–π –∏–∑ —Ñ–æ—Ä—É–º–∞: —Å—Ç—Ä–æ–∫–∞ 161 (`fetchNewsTopics`)

3. **`netlify/functions/post-news-to-telegram.js`** (226 —Å—Ç—Ä–æ–∫)
   - ‚ö†Ô∏è DEPRECATED (—Å—Ç—Ä–æ–∫–∞ 1-3), –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `news-cron.js`

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**
- –ò—Å—Ç–æ—á–Ω–∏–∫–∏: `netlify/functions/fetch-news.js:28-74`
- –Ø–∑—ã–∫–∏: `netlify/functions/fetch-news.js:77-93` (LANG_OUTPUTS)
- –õ–∏–º–∏—Ç—ã: `netlify/functions/fetch-news.js:22` (MAX_NEW_ITEMS_PER_RUN)

**–•—Ä–∞–Ω–∏–ª–∏—â–µ:**
- –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ: Firebase `/newsMeta/en.json`
- –ù–æ–≤–æ—Å—Ç–∏ –≤ —Ñ–æ—Ä—É–º–µ: Firebase `/forum/topics` (section: "news")

---

### 2) –ì–ª–∞–≤–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã –ø—É—Å—Ç—ã—Ö –≤—ã–ø—É—Å–∫–æ–≤ (—Ç–æ–ø-3)

#### –ü—Ä–∏—á–∏–Ω–∞ #1: MAX_NEW_ITEMS_PER_RUN = 2 (–ö–†–ò–¢–ò–ß–ù–û)

**–§–∞–π–ª:** `netlify/functions/fetch-news.js:22, 488`

**–î–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–æ:**
```javascript
const MAX_NEW_ITEMS_PER_RUN = 2; // —Å—Ç—Ä–æ–∫–∞ 22

// –°—Ç—Ä–æ–∫–∞ 488
if (toProcess.length >= MAX_NEW_ITEMS_PER_RUN) break;
```

**–ü–æ—á–µ–º—É –ø—Ä–æ–±–ª–µ–º–∞:**
- –ó–∞ –æ–¥–∏–Ω –∑–∞–ø—É—Å–∫ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –º–∞–∫—Å–∏–º—É–º 2 –Ω–æ–≤–æ—Å—Ç–∏
- –ï—Å–ª–∏ cron –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —Ä–µ–¥–∫–æ, –≤ –¥–µ–Ω—å –º–∞–∫—Å–∏–º—É–º 2 –Ω–æ–≤–æ—Å—Ç–∏
- –ü—Ä–∏ –º–∞–ª–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –≤—ã—Å–æ–∫–∞ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –ø—É—Å—Ç—ã—Ö –∫–∞–Ω–∞–ª–æ–≤

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –£–≤–µ–ª–∏—á–∏—Ç—å –¥–æ 5-10

---

#### –ü—Ä–∏—á–∏–Ω–∞ #2: –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ñ–∏–ª—å—Ç—Ä–∞ –ø–æ —Å–≤–µ–∂–µ—Å—Ç–∏

**–§–∞–π–ª:** `netlify/functions/fetch-news.js:478-503`

**–î–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–æ:**
- –ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤—Ä–µ–º–µ–Ω–∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ `item.pubDate`
- –°—Ç–∞—Ä—ã–µ –Ω–æ–≤–æ—Å—Ç–∏ –º–æ–≥—É—Ç –∑–∞–Ω–∏–º–∞—Ç—å —Å–ª–æ—Ç—ã –≤ –ª–∏–º–∏—Ç–µ
- –ù–æ–≤–æ—Å—Ç–∏ –±–µ–∑ –¥–∞—Ç—ã –≤—Å–µ —Ä–∞–≤–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –î–æ–±–∞–≤–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä "—Ç–æ–ª—å–∫–æ –Ω–æ–≤–æ—Å—Ç–∏ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 24-48 —á–∞—Å–æ–≤"

---

#### –ü—Ä–∏—á–∏–Ω–∞ #3: –ù–µ—Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤

**–§–∞–π–ª:** `netlify/functions/fetch-news.js:28-74`

**–î–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–æ:**
- DE: 2 –∏—Å—Ç–æ—á–Ω–∏–∫–∞ (Tagesschau, DW German)
- RU: 3 –∏—Å—Ç–æ—á–Ω–∏–∫–∞
- EN: 3 –∏—Å—Ç–æ—á–Ω–∏–∫–∞

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –î–æ–±–∞–≤–∏—Ç—å –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–ª—è DE (–º–∏–Ω–∏–º—É–º –¥–æ 3-4)

---

### 3) –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –ø–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—é –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤

**–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ ‚Üí –ò—Å—Ç–æ—á–Ω–∏–∫–∏ ‚Üí –ì–¥–µ –ø—Ä–æ–ø–∏—Å–∞—Ç—å:**

#### –ü–æ–ª–∏—Ç–∏–∫–∞
- **EN:** Reuters World, Al Jazeera English, CNN World, Foreign Policy (5-8 –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤)
- **RU:** RFI Russian, VOA Russian, Radio Free Europe (3-6 –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤)
- **DE:** Zeit Online Politik, Spiegel Politik, S√ºddeutsche Zeitung (3-5 –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤)

#### –≠–∫–æ–Ω–æ–º–∏–∫–∞
- **EN:** Reuters Business, Financial Times, Bloomberg, WSJ Economics (4-5 –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤)
- **RU:** BBC Russian Business, DW Russian Business, Meduza Business (2-3 –∏—Å—Ç–æ—á–Ω–∏–∫–∞)
- **DE:** Spiegel Wirtschaft, Zeit Online Wirtschaft (2 –∏—Å—Ç–æ—á–Ω–∏–∫–∞)

#### –≠–∫–æ–ª–æ–≥–∏—è
- **EN:** Climate Change News, Inside Climate News, Carbon Brief, Grist, Guardian Environment (5 –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤)
- **RU:** BBC Russian Science, DW Russian Environment (2 –∏—Å—Ç–æ—á–Ω–∏–∫–∞)
- **DE:** Tagesschau Umwelt, Spiegel Wissenschaft (2 –∏—Å—Ç–æ—á–Ω–∏–∫–∞)

#### –ù–∞—É–∫–∞/–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
- **EN:** BBC Science, Nature News, Ars Technica, The Verge, Wired (5-6 –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤)
- **RU:** BBC Russian Science, DW Russian Science (2 –∏—Å—Ç–æ—á–Ω–∏–∫–∞)
- **DE:** Spiegel Wissenschaft, Zeit Online Wissenschaft (2 –∏—Å—Ç–æ—á–Ω–∏–∫–∞)

**–ì–¥–µ –ø—Ä–æ–ø–∏—Å–∞—Ç—å:** `netlify/functions/fetch-news.js:28-74` (–º–∞—Å—Å–∏–≤ `SOURCES`)

**–§–æ—Ä–º–∞—Ç:**
```javascript
{
  id: "source_id",
  url: "https://rss-url",
  languages: ["en"], // –∏–ª–∏ ["ru"], ["de"]
}
```

**–í–∞–∂–Ω–æ:** –ú–Ω–æ–≥–∏–µ RSS URL –Ω—É–∂–Ω–æ —É—Ç–æ—á–Ω–∏—Ç—å –≤—Ä—É—á–Ω—É—é (–Ω–µ –≤—Å–µ —Å–∞–π—Ç—ã –ø—É–±–ª–∏–∫—É—é—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ RSS-—Ñ–∏–¥—ã)

---

### 4) –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∫–∏ –≤ –∫–æ–¥–µ/–∫–æ–Ω—Ñ–∏–≥–µ

#### –§–∞–π–ª 1: `netlify/functions/fetch-news.js`

**–ò–∑–º–µ–Ω–µ–Ω–∏–µ 1.1:** –£–≤–µ–ª–∏—á–∏—Ç—å MAX_NEW_ITEMS_PER_RUN (—Å—Ç—Ä–æ–∫–∞ 22)
```javascript
// –ë—ã–ª–æ:
const MAX_NEW_ITEMS_PER_RUN = 2;

// –°—Ç–∞–ª–æ:
const MAX_NEW_ITEMS_PER_RUN = 8; // –∏–ª–∏ 10
```

**–ò–∑–º–µ–Ω–µ–Ω–∏–µ 1.2:** –î–æ–±–∞–≤–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä –ø–æ —Å–≤–µ–∂–µ—Å—Ç–∏ (–ø–æ—Å–ª–µ —Å—Ç—Ä–æ–∫–∏ 483)
```javascript
// –î–æ–±–∞–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é
function isItemFresh(item, maxAgeHours = 24) {
  if (!item.pubDate) return false;
  const pubTime = new Date(item.pubDate).getTime();
  const age = Date.now() - pubTime;
  return age <= (maxAgeHours * 60 * 60 * 1000);
}

// –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–±–æ—Ä (—Å—Ç—Ä–æ–∫–∞ 487)
for (const item of allItems) {
  if (toProcess.length >= MAX_NEW_ITEMS_PER_RUN) break;
  
  // –î–û–ë–ê–í–ò–¢–¨: —Ñ–∏–ª—å—Ç—Ä –ø–æ —Å–≤–µ–∂–µ—Å—Ç–∏
  if (!isItemFresh(item, 24)) continue; // —Ç–æ–ª—å–∫–æ –Ω–æ–≤–æ—Å—Ç–∏ –∑–∞ 24 —á–∞—Å–∞
  
  const key = makeNewsKey(item);
  // ... –æ—Å—Ç–∞–ª—å–Ω–æ–µ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
}
```

**–ò–∑–º–µ–Ω–µ–Ω–∏–µ 1.3:** –î–æ–±–∞–≤–∏—Ç—å —Ç–∞–π–º–∞—É—Ç –¥–ª—è fetchRssSource (—Å—Ç—Ä–æ–∫–∞ 192)
```javascript
async function fetchRssSource(source, timeoutMs = 10000) {
  const controller = new AbortController();
  const timeoutId = setTimeout(() => controller.abort(), timeoutMs);
  
  try {
    const res = await fetch(source.url, { signal: controller.signal });
    clearTimeout(timeoutId);
    // ... –æ—Å—Ç–∞–ª—å–Ω–æ–µ
  } catch (err) {
    clearTimeout(timeoutId);
    throw err;
  }
}

// –ò –≤—ã–∑—ã–≤–∞—Ç—å —Å —Ç–∞–π–º–∞—É—Ç–æ–º (—Å—Ç—Ä–æ–∫–∞ 471)
const items = await fetchRssSource(src, 10000);
```

**–ò–∑–º–µ–Ω–µ–Ω–∏–µ 1.4:** –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ (—Å—Ç—Ä–æ–∫–∏ 28-74)
- –î–æ–±–∞–≤–∏—Ç—å –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –∏–∑ —Ä–∞–∑–¥–µ–ª–∞ C –≤ –º–∞—Å—Å–∏–≤ `SOURCES`
- –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–æ–±–∞–≤–ª—è—Ç—å –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ, —Ç–µ—Å—Ç–∏—Ä—É—è –∫–∞–∂–¥—ã–π

---

#### –§–∞–π–ª 2: `netlify/functions/news-cron.js`

**–ò–∑–º–µ–Ω–µ–Ω–∏–µ 2.1:** (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –î–æ–±–∞–≤–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é –ø–æ —è–∑—ã–∫—É —Ç–µ–º—ã –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π

**–¢–µ–∫—É—â–∞—è –ø—Ä–æ–±–ª–µ–º–∞:** –ù–æ–≤–æ—Å—Ç–∏ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –≤–æ –≤—Å–µ –∫–∞–Ω–∞–ª—ã –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç `topic.lang`

**–ï—Å–ª–∏ –Ω—É–∂–Ω–æ —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –ø–æ —è–∑—ã–∫—É:**
```javascript
// –°—Ç—Ä–æ–∫–∞ 185, –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å:
for (const topic of freshTopics) {
  const text = buildPostText(topic);
  const tasks = [];
  
  // –û—Ç–ø—Ä–∞–≤–ª—è—Ç—å —Ç–æ–ª—å–∫–æ –≤ –∫–∞–Ω–∞–ª —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–≥–æ —è–∑—ã–∫–∞
  if (topic.lang === "ru" && TELEGRAM_NEWS_CHAT_ID_RU) {
    tasks.push(sendToTelegram(TELEGRAM_NEWS_CHAT_ID_RU, text).then(...));
  }
  if (topic.lang === "en" && TELEGRAM_NEWS_CHAT_ID_EN) {
    tasks.push(sendToTelegram(TELEGRAM_NEWS_CHAT_ID_EN, text).then(...));
  }
  if (topic.lang === "de" && TELEGRAM_NEWS_CHAT_ID_DE) {
    tasks.push(sendToTelegram(TELEGRAM_NEWS_CHAT_ID_DE, text).then(...));
  }
  
  // ... –æ—Å—Ç–∞–ª—å–Ω–æ–µ
}
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –¢–µ–∫—É—â–∞—è –ª–æ–≥–∏–∫–∞ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≤–æ –≤—Å–µ –∫–∞–Ω–∞–ª—ã, —á—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–∞–º–µ—Ä–µ–Ω–Ω—ã–º —Ä–µ—à–µ–Ω–∏–µ–º. –ï—Å–ª–∏ —ç—Ç–æ –±–∞–≥, –Ω—É–∂–Ω–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å.

---

### 5) –ß–µ–∫-–ª–∏—Å—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

#### –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

**–®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤**
- [ ] –û—Ç–∫—Ä—ã—Ç—å `netlify/functions/fetch-news.js`
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –≤—Å–µ RSS URL –≤ –º–∞—Å—Å–∏–≤–µ `SOURCES` –∞–∫—Ç—É–∞–ª—å–Ω—ã
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ `MAX_NEW_ITEMS_PER_RUN` —É–≤–µ–ª–∏—á–µ–Ω –¥–æ 8-10
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω—ã –Ω–æ–≤—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏

**–®–∞–≥ 2: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä—Å–∏–Ω–≥–∞ RSS**
- [ ] –ó–∞–ø—É—Å—Ç–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ —Ñ—É–Ω–∫—Ü–∏—é `fetch-news` (—á–µ—Ä–µ–∑ Netlify CLI –∏–ª–∏ –ª–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä)
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏: –≤—Å–µ –ª–∏ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –Ω–æ–≤–æ—Å—Ç–∏ –ø–∞—Ä—Å—è—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ (title, link, description, pubDate)

**–®–∞–≥ 3: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∏–ª—å—Ç—Ä–æ–≤**
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Ñ–∏–ª—å—Ç—Ä –ø–æ —Å–≤–µ–∂–µ—Å—Ç–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç (—Ç–æ–ª—å–∫–æ –Ω–æ–≤–æ—Å—Ç–∏ –∑–∞ 24 —á–∞—Å–∞)
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç (–Ω–µ —Å–æ–∑–¥–∞—é—Ç—Å—è –¥—É–±–ª–∏)
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –ª–∏–º–∏—Ç `MAX_NEW_ITEMS_PER_RUN` —Å–æ–±–ª—é–¥–∞–µ—Ç—Å—è

**–®–∞–≥ 4: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è –î–æ–º–æ–≤–æ–≥–æ**
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ `analyzeNewsItemEn` –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ç–µ–∫—Å—Ç
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞ (summary, why it matters, NovaCiv perspective, question)
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–µ—Ä–µ–≤–æ–¥—ã –Ω–∞ RU –∏ DE

**–®–∞–≥ 5: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ —Ñ–æ—Ä—É–º**
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –Ω–æ–≤–æ—Å—Ç–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ Firebase `/forum/topics`
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∑–∞–ø–∏—Å–∏ (title, content, section: "news", lang, sourceId)
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –≤ `/newsMeta/en.json`

---

#### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –ø—Ä–æ–¥–µ

**–®–∞–≥ 1: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–µ—Ä–≤–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ cron**
- [ ] –ó–∞–ø—É—Å—Ç–∏—Ç—å `fetch-news` –≤—Ä—É—á–Ω—É—é (—á–µ—Ä–µ–∑ cron URL —Å —Ç–æ–∫–µ–Ω–æ–º)
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ Netlify Functions: –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö –Ω–æ–≤–æ—Å—Ç–µ–π
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Firebase: –ø–æ—è–≤–∏–ª–∏—Å—å –ª–∏ –Ω–æ–≤—ã–µ —Ç–µ–º—ã –≤ `/forum/topics`

**–®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –≤ Telegram**
- [ ] –ó–∞–ø—É—Å—Ç–∏—Ç—å `news-cron` –≤—Ä—É—á–Ω—É—é
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ —Ç—Ä–∏ Telegram-–∫–∞–Ω–∞–ª–∞ (RU, EN, DE)
- [ ] –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤ –∫–∞–∂–¥–æ–º –∫–∞–Ω–∞–ª–µ –µ—Å—Ç—å –ø–æ—Å—Ç—ã (–∏–ª–∏ —Ö–æ—Ç—è –±—ã –≤ –æ–¥–Ω–æ–º)

**–®–∞–≥ 3: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ —Ç–µ—á–µ–Ω–∏–µ –¥–Ω—è**
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ cron –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —Ä–µ–≥—É–ª—è—Ä–Ω–æ (–ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é)
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –Ω–æ–≤–æ—Å—Ç–∏ –ø–æ—è–≤–ª—è—é—Ç—Å—è –≤ –∫–∞–Ω–∞–ª–∞—Ö
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –Ω–µ—Ç –¥—É–±–ª–µ–π
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –æ—à–∏–±–∫–∏ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è, –Ω–æ –Ω–µ –±–ª–æ–∫–∏—Ä—É—é—Ç –ø—Ä–æ—Ü–µ—Å—Å

**–®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø–æ —è–∑—ã–∫–∞–º**
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —è–∑—ã–∫–∞ (RU, EN, DE) –µ—Å—Ç—å –Ω–æ–≤–æ—Å—Ç–∏
- [ ] –ï—Å–ª–∏ –∫–∞–∫–æ–π-—Ç–æ —è–∑—ã–∫ –ø—É—Å—Ç–æ–π, –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏: –ø–æ—á–µ–º—É (–∏—Å—Ç–æ—á–Ω–∏–∫–∏ —É–ø–∞–ª–∏? –Ω–µ—Ç –Ω–æ–≤—ã—Ö –Ω–æ–≤–æ—Å—Ç–µ–π?)
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –Ω–æ–≤—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç

**–®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏**
- [ ] –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ —Ç–µ—á–µ–Ω–∏–µ –Ω–µ–¥–µ–ª–∏: —Å—Ç–∞–±–∏–ª—å–Ω–æ –ª–∏ –ø–æ—è–≤–ª—è—é—Ç—Å—è –Ω–æ–≤–æ—Å—Ç–∏
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –Ω–µ—Ç –Ω–∞–∫–æ–ø–ª–µ–Ω–∏—è –æ—à–∏–±–æ–∫
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Ç–∞–π–º–∞—É—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç (–∏—Å—Ç–æ—á–Ω–∏–∫–∏ –Ω–µ –≤–∏—Å—è—Ç)

---

#### –ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞

**–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- ‚úÖ –ó–∞ –¥–µ–Ω—å –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –º–∏–Ω–∏–º—É–º 5-8 –Ω–æ–≤–æ—Å—Ç–µ–π (–Ω–µ 2)
- ‚úÖ –ù–æ–≤–æ—Å—Ç–∏ –ø–æ—è–≤–ª—è—é—Ç—Å—è –≤–æ –≤—Å–µ—Ö —Ç—Ä–µ—Ö –∫–∞–Ω–∞–ª–∞—Ö (RU, EN, DE)
- ‚úÖ –ù–µ—Ç –¥—É–±–ª–µ–π –≤ –∫–∞–Ω–∞–ª–∞—Ö
- ‚úÖ –û—à–∏–±–∫–∏ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –Ω–µ –±–ª–æ–∫–∏—Ä—É—é—Ç –ø—Ä–æ—Ü–µ—Å—Å

**–ò–¥–µ–∞–ª—å–Ω—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏:**
- ‚úÖ –ó–∞ –¥–µ–Ω—å –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è 8-10 –Ω–æ–≤–æ—Å—Ç–µ–π
- ‚úÖ –ö–∞–∂–¥—ã–π –∫–∞–Ω–∞–ª –ø–æ–ª—É—á–∞–µ—Ç –º–∏–Ω–∏–º—É–º 2-3 –Ω–æ–≤–æ—Å—Ç–∏ –≤ –¥–µ–Ω—å
- ‚úÖ –ù–æ–≤–æ—Å—Ç–∏ —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–Ω—ã (—Ä–∞–∑–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏, —Ä–∞–∑–Ω—ã–µ —Ç–µ–º—ã)
- ‚úÖ –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –î–æ–º–æ–≤–æ–≥–æ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∏ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ

---

## –†–µ–∑—é–º–µ

**–û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:**
1. `MAX_NEW_ITEMS_PER_RUN = 2` - –∫—Ä–∏—Ç–∏—á–Ω–æ –º–∞–ª–æ
2. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ñ–∏–ª—å—Ç—Ä–∞ –ø–æ —Å–≤–µ–∂–µ—Å—Ç–∏ –Ω–æ–≤–æ—Å—Ç–µ–π
3. –ù–µ—Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ (DE –∏–º–µ–µ—Ç —Ç–æ–ª—å–∫–æ 2)

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**
1. –£–≤–µ–ª–∏—á–∏—Ç—å `MAX_NEW_ITEMS_PER_RUN` –¥–æ 8-10
2. –î–æ–±–∞–≤–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä –ø–æ —Å–≤–µ–∂–µ—Å—Ç–∏ (24 —á–∞—Å–∞)
3. –î–æ–±–∞–≤–∏—Ç—å –∏—Å—Ç–æ—á–Ω–∏–∫–∏ (–æ—Å–æ–±–µ–Ω–Ω–æ –¥–ª—è DE)
4. –î–æ–±–∞–≤–∏—Ç—å —Ç–∞–π–º–∞—É—Ç—ã –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤ RSS
5. –£–ª—É—á—à–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:**
- üî¥ –í—ã—Å–æ–∫–∏–π: –£–≤–µ–ª–∏—á–∏—Ç—å `MAX_NEW_ITEMS_PER_RUN`
- üü° –°—Ä–µ–¥–Ω–∏–π: –î–æ–±–∞–≤–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä –ø–æ —Å–≤–µ–∂–µ—Å—Ç–∏, –¥–æ–±–∞–≤–∏—Ç—å –∏—Å—Ç–æ—á–Ω–∏–∫–∏
- üü¢ –ù–∏–∑–∫–∏–π: –£–ª—É—á—à–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, –¥–æ–±–∞–≤–∏—Ç—å fallback-–º–µ—Ö–∞–Ω–∏–∑–º—ã

# üß≠ –ö–ê–ù–û–ù–ò–ß–ï–°–ö–ê–Ø –ò–ù–°–¢–†–£–ö–¶–ò–Ø –î–õ–Ø CURSOR
## NovaCiv ¬∑ –ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω–∞—è –Ω–æ–≤–æ—Å—Ç–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ + –î–æ–º–æ–≤–æ–π

**–í–µ—Ä—Å–∏—è:** –ø–æ—Å–ª–µ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è fallback-–ø–µ—Ä–µ–≤–æ–¥–∞ –∏ telegramFormat.js  
**–î–∞—Ç–∞:** 12 —è–Ω–≤–∞—Ä—è 2026

---

## –†–û–õ–¨ CURSOR (–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å)

–¢—ã ‚Äî –æ–ø–µ—Ä–∞—Ç–æ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Ä–µ–¥–∞–∫—Ü–∏–∏ NovaCiv.  
–¢–≤–æ—è –∑–∞–¥–∞—á–∞ ‚Äî —Å—Ç–∞–±–∏–ª—å–Ω–æ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—å –æ—Å–º—ã—Å–ª–µ–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç,  
–∞ –Ω–µ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–æ —Å—Ç–∏–ª–µ–º –∏–ª–∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π.

### –¢—ã:
- ‚úÖ –ò—Å–ø–æ–ª–Ω—è–µ—à—å –∫–∞–Ω–æ–Ω
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—à—å —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å
- ‚úÖ –°–ª–µ–¥—É–µ—à—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–º –ø—Ä–∞–≤–∏–ª–∞–º

### –¢—ã –ù–ï:
- ‚ùå –ñ—É—Ä–Ω–∞–ª–∏—Å—Ç
- ‚ùå –ê–∫—Ç–∏–≤–∏—Å—Ç
- ‚ùå –§–∏–ª–æ—Å–æ—Ñ
- ‚ùå –ü—Ä–∏–¥—É–º—ã–≤–∞–µ—à—å —Ñ–æ—Ä–º–∞—Ç
- ‚ùå –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä—É–µ—à—å —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

---

## 0Ô∏è‚É£ –ë–ê–ó–û–í–´–ï –ó–ê–ü–†–ï–¢–´ (–≤–∞–∂–Ω–æ)

- ‚ùå –ù–µ –º–µ–Ω—è—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É
- ‚ùå –ù–µ –º–µ–Ω—è—Ç—å —Ñ–æ—Ä–º–∞—Ç Telegram
- ‚ùå –ù–µ –¥–æ–±–∞–≤–ª—è—Ç—å —à–∞–±–ª–æ–Ω—ã
- ‚ùå –ù–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä—É—á–Ω–æ–π HTML
- ‚ùå –ù–µ –æ–±—ä–µ–¥–∏–Ω—è—Ç—å –¥–µ–¥—É–ø –º–µ–∂–¥—É —è–∑—ã–∫–∞–º–∏
- ‚ùå –ù–µ ¬´—É–ª—É—á—à–∞—Ç—å —Å—Ç–∏–ª—å¬ª –æ—Ç —Å–µ–±—è

---

## 1Ô∏è‚É£ –ò–°–¢–û–ß–ù–ò–ö–ò –ù–û–í–û–°–¢–ï–ô (–£–ñ–ï –°–î–ï–õ–ê–ù–û ‚Äî –ù–ï –¢–†–û–ì–ê–¢–¨)

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –º–æ–¥—É–ª—å: `netlify/lib/rssSourcesByLang.js`

- **RU** ‚âà 25 –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
- **EN** ‚âà 40 –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
- **DE** ‚âà 25 –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
- **–û–±—â–∏–π –ø—É–ª:** 90+ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤

**–ê–∫—Å–∏–æ–º–∞:** –ù–æ–≤–æ—Å—Ç–∏ –Ω–µ –º–æ–≥—É—Ç –∑–∞–∫–æ–Ω—á–∏—Ç—å—Å—è ‚Äî —ç—Ç–æ –∞–∫—Å–∏–æ–º–∞ —Å–∏—Å—Ç–µ–º—ã.

---

## 2Ô∏è‚É£ FETCH-NEWS.JS ‚Äî –ö–ê–ù–û–ù –°–ë–û–†–ê

### 2.1 –û–±—â–∏–µ –ø—Ä–∞–≤–∏–ª–∞

- –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–¥—ë—Ç –ø–æ —è–∑—ã–∫–∞–º
- –ê–Ω–∞–ª–∏–∑ –≤—Å–µ–≥–¥–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –Ω–∞ **EN**
- –ï—Å–ª–∏ –∏—Å—Ç–æ—á–Ω–∏–∫ –Ω–µ EN:
  - –ø–µ—Ä–µ–≤–æ–¥ –∑–∞–≥–æ–ª–æ–≤–∫–∞ + excerpt ‚Üí EN
  - –∞–Ω–∞–ª–∏–∑ ‚Üí structured JSON

### 2.2 –°—Ç—Ä—É–∫—Ç—É—Ä–∞ topic (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û)

```json
{
  "section": "news",
  "lang": "ru | en | de",
  "analysisLang": "en",
  "title": "...",
  "url": "...",
  "sourceName": "...",
  "createdAt": 1234567890,
  "sense": "...",
  "why": "...",
  "view": "...",
  "question": "...",
  "posted": false
}
```

‚ùó **–ï—Å–ª–∏ —Ö–æ—Ç—è –±—ã –æ–¥–Ω–æ –ø–æ–ª–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç ‚Äî topic —Å—á–∏—Ç–∞–µ—Ç—Å—è –¥–µ—Ñ–µ–∫—Ç–Ω–æ–π.**

---

## 3Ô∏è‚É£ NEWS-CRON.JS ‚Äî –ü–£–ë–õ–ò–ö–ê–¶–ò–Ø (–ì–õ–ê–í–ù–û–ï)

### 3.1 –ê–ª–≥–æ—Ä–∏—Ç–º (—Å—Ç—Ä–æ–≥–æ)

–î–ª—è –∫–∞–∂–¥–æ–≥–æ —è–∑—ã–∫–∞: **RU ‚Üí EN ‚Üí DE**

1. **–ù–∞–π—Ç–∏ —Ä–æ–≤–Ω–æ –æ–¥–Ω—É topic:**
   - `section="news"`
   - `lang=targetLang`
   - `posted=false`
   - —Å–∞–º–∞—è —Å–≤–µ–∂–∞—è –ø–æ `createdAt`

2. **–ï—Å–ª–∏ –Ω–∞–π–¥–µ–Ω–∞:**
   - –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π Telegram-–∫–∞–Ω–∞–ª
   - –ø–æ–º–µ—Ç–∏—Ç—å `posted=true` —Ç–æ–ª—å–∫–æ –¥–ª—è —ç—Ç–æ–≥–æ —è–∑—ã–∫–∞

3. **–ï—Å–ª–∏ –ù–ï –Ω–∞–π–¥–µ–Ω–∞:**
   - –≤–∑—è—Ç—å topic —Å `lang="en"` (–∏–ª–∏ –ª—é–±—É—é –¥–æ—Å—Ç—É–ø–Ω—É—é)
   - –ø–µ—Ä–µ–≤–µ—Å—Ç–∏ **–í–°–ï –ø–æ–ª—è:**
     - `title`
     - `sense`
     - `why`
     - `view`
     - `question`
   - —Å–æ–∑–¥–∞—Ç—å **–ù–û–í–£–Æ topic-–∫–æ–ø–∏—é:**
     ```json
     {
       "lang": "targetLang",
       "translatedFrom": true,
       "sourceLang": "en",
       "sourceTopicId": "..."
     }
     ```
   - –æ—Ç–ø—Ä–∞–≤–∏—Ç—å
   - –æ—Ä–∏–≥–∏–Ω–∞–ª –Ω–µ —Ç—Ä–æ–≥–∞—Ç—å

üìå **–≠—Ç–æ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–æ–µ. –ù–µ –º–µ–Ω—è—Ç—å.**

---

## 4Ô∏è‚É£ –§–û–†–ú–ê–¢ TELEGRAM ‚Äî –ê–ë–°–û–õ–Æ–¢–ù–´–ô –ö–ê–ù–û–ù

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **–¢–û–õ–¨–ö–û:** `netlify/lib/telegramFormat.js`

### –ù–æ–≤–æ—Å—Ç–∏
- `formatNewsMessage()`
- `disable_web_page_preview = false`
- —Å—Å—ã–ª–∫–∞ –≤ –∫–æ–Ω—Ü–µ: `https://novaciv.space/news`

### –î–æ–º–æ–≤–æ–π
- `formatDomovoyMessage()`
- `disable_web_page_preview = true`
- —Å—Å—ã–ª–∫–∞ –≤ –∫–æ–Ω—Ü–µ: `https://novaciv.space`

‚ùå **–õ—é–±–æ–π –¥—Ä—É–≥–æ–π —Ñ–æ—Ä–º–∞—Ç = –æ—à–∏–±–∫–∞.**

---

## 5Ô∏è‚É£ –û–°–ú–´–°–õ–ï–ù–ù–û–°–¢–¨ –ù–û–í–û–°–¢–ï–ô (–ù–ï –†–ï–§–ï–†–ê–¢)

### –ñ—ë—Å—Ç–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –ø–æ–ª—è–º

#### `sense` (240‚Äì360 —Å–∏–º–≤–æ–ª–æ–≤)
- —Ç–æ–ª—å–∫–æ –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–∏—Å—Ö–æ–¥—è—â–µ–≥–æ
- –±–µ–∑ –æ—Ü–µ–Ω–æ–∫
- –±–µ–∑ —Å–ª–æ–≤: –≤–∞–∂–Ω–æ, —Å–∫–∞–Ω–¥–∞–ª, —É–≥—Ä–æ–∑–∞, —Ç—Ä–∞–≥–µ–¥–∏—è

#### `why` (‚â§180)
- –æ–¥–∏–Ω –ø—Ä–∏—á–∏–Ω–Ω–æ-—Å–ª–µ–¥—Å—Ç–≤–µ–Ω–Ω—ã–π —Å–ª–æ–π
- —á—Ç–æ –º–µ–Ω—è–µ—Ç—Å—è, –∞ –Ω–µ ¬´–ø–æ—á–µ–º—É –ø–ª–æ—Ö–æ¬ª

#### `view` (‚â§220)
- –Ω–µ –ø–æ–∑–∏—Ü–∏—è NovaCiv
- –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ —Ä–∏—Å–∫–∞—Ö
- —Ñ–æ—Ä–º—É–ª–∞: ¬´–ü–æ–¥–æ–±–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è –æ–±—ã—á–Ω–æ –ø—Ä–∏–≤–æ–¥—è—Ç –∫‚Ä¶¬ª

#### `question` (‚â§160)
- –æ–¥–∏–Ω –≤–æ–ø—Ä–æ—Å
- –±–µ–∑ ¬´–∫–∞–∫ –≤—ã —Å—á–∏—Ç–∞–µ—Ç–µ¬ª
- –±–µ–∑ –º–æ—Ä–∞–ª–∏

---

## 6Ô∏è‚É£ –î–ï–î–£–ü ‚Äî –°–¢–†–û–ì–û –ü–û –Ø–ó–´–ö–ê–ú

–ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è:
- `/newsMeta/{lang}/processedKeys`
- `/newsMeta/state_{lang}.json`

‚ùå **–ì–ª–æ–±–∞–ª—å–Ω—ã–π –¥–µ–¥—É–ø –∑–∞–ø—Ä–µ—â—ë–Ω**  
‚ùå **–û–¥–∏–Ω —è–∑—ã–∫ –Ω–µ –¥–æ–ª–∂–µ–Ω –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –¥—Ä—É–≥–æ–π**

---

## 7Ô∏è‚É£ –î–û–ú–û–í–û–ô ‚Äî –ì–û–õ–û–°, –ê –ù–ï –ë–û–¢

### –ß–∞—Å—Ç–æ—Ç–∞
- –∫–∞–∂–¥—ã–µ 3 —á–∞—Å–∞
- –∫–æ–º–ø–æ–Ω–µ–Ω—Ç: `domovoy-every-3h.js`

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ (–ù–ï –ú–ï–ù–Ø–¢–¨)
1. **–ó–∞–≥–æ–ª–æ–≤–æ–∫** ‚Äî ¬´–ö–æ—Ä–æ—Ç–∫–∞—è —Ü–∏—Ç–∞—Ç–∞ –∏–∑ –ú–∞–Ω–∏—Ñ–µ—Å—Ç–∞ –∏–ª–∏ –£—Å—Ç–∞–≤–∞¬ª
2. **–†–∞–∑–º—ã—à–ª–µ–Ω–∏–µ** (2‚Äì4 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è, –Ω–∞–±–ª—é–¥–µ–Ω–∏–µ, –Ω–µ –≤—ã–≤–æ–¥)
3. **–í–æ–ø—Ä–æ—Å** (1 —Å—Ç—Ä–æ–∫–∞)

### –ó–∞–ø—Ä–µ—Ç—ã (–ø—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞)

–ï—Å–ª–∏ –µ—Å—Ç—å —Ö–æ—Ç—è –±—ã –æ–¥–Ω–æ ‚Äî –ø–æ—Å—Ç –æ—Ç–∫–ª–æ–Ω—è–µ—Ç—Å—è:
- –ª–æ–∑—É–Ω–≥
- ¬´–º—ã —Å—á–∏—Ç–∞–µ–º¬ª
- ¬´–¥–æ–ª–∂–Ω—ã / –æ–±—è–∑–∞–Ω—ã¬ª
- –æ—Ü–µ–Ω–∫–∞ ¬´—Ö–æ—Ä–æ—à–æ / –ø–ª–æ—Ö–æ¬ª
- –ø—Ä–∏–∑—ã–≤

### –≠—Ç–∞–ª–æ–Ω –æ—â—É—â–µ–Ω–∏—è

–¢–µ–∫—Å—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –±–ª–∏–∂–µ –∫:
- ‚úÖ –∫–æ–ª–æ–Ω–∫–µ –≤ The Atlantic
- ‚ùå —á–µ–º –∫ Telegram-–∫–∞–Ω–∞–ª—É –∞–∫—Ç–∏–≤–∏—Å—Ç–∞

---

## 8Ô∏è‚É£ OPS / –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï (–ù–ï –ò–ì–ù–û–†–ò–†–û–í–ê–¢–¨)

### Dry-run
```bash
curl ".../ops-run-now?token=OPS_CRON_SECRET&dry=1"
```
- –±–µ–∑ Telegram
- —Ç–æ–ª—å–∫–æ heartbeat + events

### –û–±—ã—á–Ω—ã–π –∑–∞–ø—É—Å–∫
```bash
curl ".../ops-run-now?token=OPS_CRON_SECRET"
```

### Smoke
```bash
node tools/content-smoke-test.js
```

**–ï—Å–ª–∏ smoke ‚â† OK ‚Üí —Å–∏—Å—Ç–µ–º–∞ —Å—á–∏—Ç–∞–µ—Ç—Å—è –Ω–µ–∏—Å–ø—Ä–∞–≤–Ω–æ–π.**

---

## 9Ô∏è‚É£ –ï–°–õ–ò "–ù–ï–¢ –ù–û–í–´–• –¢–ï–ú"

‚ùó **–≠—Ç–æ –ù–ï –æ—à–∏–±–∫–∞ –∏ –ù–ï –ø—Ä–∏—á–∏–Ω–∞ –º–µ–Ω—è—Ç—å –ª–æ–≥–∏–∫—É.**

### –î–æ–ø—É—Å—Ç–∏–º—ã–µ –¥–µ–π—Å—Ç–≤–∏—è:
- ‚úÖ heartbeat: `fetched=0, sent=0`
- ‚úÖ —Å–æ–±—ã—Ç–∏–µ INFO

### ‚ùå –ó–∞–ø—Ä–µ—â–µ–Ω–æ:
- –ø–∞–¥–∞—Ç—å
- –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å ERROR
- –æ—Å–ª–∞–±–ª—è—Ç—å –¥–µ–¥—É–ø
- –ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –º—É—Å–æ—Ä

---

## üéØ –ì–ê–†–ê–ù–¢–ò–Ø –†–ï–ó–£–õ–¨–¢–ê–¢–ê

–° —É—á—ë—Ç–æ–º:
- 90+ RSS
- fallback-–ø–µ—Ä–µ–≤–æ–¥–∞
- 3 —è–∑—ã–∫–æ–≤
- 1 –Ω–æ–≤–æ—Å—Ç—å/—á–∞—Å
- –î–æ–º–æ–≤–æ–π –∫–∞–∂–¥—ã–µ 3 —á–∞—Å–∞

‚û° **–∫–æ–Ω—Ç–µ–Ω—Ç –Ω–µ –∑–∞–∫–æ–Ω—á–∏—Ç—Å—è –Ω–∏–∫–æ–≥–¥–∞**  
‚û° **–ª–µ–Ω—Ç–∞ –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å –æ—Å–º—ã—Å–ª–µ–Ω–Ω–æ–π**  
‚û° **–î–æ–º–æ–≤–æ–π –±—É–¥–µ—Ç –∑–≤—É—á–∞—Ç—å –∫–∞–∫ –≥–æ–ª–æ—Å, –∞ –Ω–µ –±–æ—Ç**

---

## üìù –ü–†–ò–ú–ï–ß–ê–ù–ò–Ø

- –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å —ç—Ç–æ–º—É –∫–∞–Ω–æ–Ω—É
- –ü—Ä–∏ —Å–æ–º–Ω–µ–Ω–∏—è—Ö ‚Äî —Å–ª–µ–¥–æ–≤–∞—Ç—å –∫–∞–Ω–æ–Ω—É, –∞ –Ω–µ ¬´—É–ª—É—á—à–∞—Ç—å¬ª
- –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–∞ –∏ –Ω–µ –ø–æ–¥–ª–µ–∂–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—é –±–µ–∑ —è–≤–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞

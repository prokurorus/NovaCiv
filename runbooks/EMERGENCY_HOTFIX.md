# Emergency Hotfix ‚Äî NovaCiv

**–ü—Ä–æ—Ü–µ–¥—É—Ä–∞ —Å—Ä–æ—á–Ω–æ–≥–æ —Ö–æ—Ç—Ñ–∏–∫—Å–∞ –±–µ–∑ –Ω–∞—Ä—É—à–µ–Ω–∏—è Source of Truth**

---

## ‚ö†Ô∏è –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

**–¢–æ–ª—å–∫–æ –≤ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Å–∏—Ç—É–∞—Ü–∏—è—Ö:**
- –°–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –¥–æ–∂–¥–∞—Ç—å—Å—è –æ–±—ã—á–Ω–æ–≥–æ workflow (PC ‚Üí GitHub ‚Üí Server)
- –¢—Ä–µ–±—É–µ—Ç—Å—è –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

**–ù–ï –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è:**
- –û–±—ã—á–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π
- –î–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
- –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞

---

## üîÑ –ü—Ä–æ—Ü–µ–¥—É—Ä–∞ Emergency Hotfix

### –®–∞–≥ 1: –û—Ü–µ–Ω–∏—Ç—å –∫—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å

**–ó–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å—ã:**
- –ú–æ–∂–Ω–æ –ª–∏ –¥–æ–∂–¥–∞—Ç—å—Å—è –æ–±—ã—á–Ω–æ–≥–æ workflow?
- –°–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞?
- –ï—Å—Ç—å –ª–∏ –æ–±—Ö–æ–¥–Ω–æ–π –ø—É—Ç—å –±–µ–∑ –ø—Ä–∞–≤–∫–∏ –∫–æ–¥–∞?

**–ï—Å–ª–∏ –æ—Ç–≤–µ—Ç "–¥–∞" –Ω–∞ –æ–±—ã—á–Ω—ã–π workflow ‚Üí –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±—ã—á–Ω—ã–π workflow!**

---

### –®–∞–≥ 2: –í—ã–ø–æ–ª–Ω–∏—Ç—å —Ö–æ—Ç—Ñ–∏–∫—Å –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

1. **–°–æ–∑–¥–∞—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é:**
   ```bash
   cd /root/NovaCiv
   git status --short > /tmp/git_status_before_hotfix.txt
   git diff > /tmp/git_diff_before_hotfix.txt
   ```

2. **–í—ã–ø–æ–ª–Ω–∏—Ç—å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
   - –ò–∑–º–µ–Ω–∏—Ç—å —Ç–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ñ–∞–π–ª—ã
   - –ò–∑–±–µ–≥–∞—Ç—å –º–∞—Å—Å–æ–≤—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π

3. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:**
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
   - –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –Ω–µ —Å–ª–æ–º–∞–Ω–æ –Ω–∏—á–µ–≥–æ –¥—Ä—É–≥–æ–≥–æ

---

### –®–∞–≥ 3: –ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å GitHub

**–í–ù–ò–ú–ê–ù–ò–ï:** –≠—Ç–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π —à–∞–≥! –ë–µ–∑ —ç—Ç–æ–≥–æ –Ω–∞—Ä—É—à–∞–µ—Ç—Å—è Source of Truth.

1. **–ó–∞–∫–æ–º–º–∏—Ç–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
   ```bash
   cd /root/NovaCiv
   git add -A
   git commit -m "hotfix: –∫—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è"
   ```

   **–ï—Å–ª–∏ pre-commit hook –±–ª–æ–∫–∏—Ä—É–µ—Ç:**
   - –í—Ä–µ–º–µ–Ω–Ω–æ –æ–±–æ–π—Ç–∏: `git commit --no-verify` (—Ç–æ–ª—å–∫–æ –¥–ª—è emergency!)
   - –ò–ª–∏: –æ—Ç–∫–ª—é—á–∏—Ç—å hook, –∑–∞–∫–æ–º–º–∏—Ç–∏—Ç—å, –≤–µ—Ä–Ω—É—Ç—å hook

2. **–ó–∞–ø—É—à–∏—Ç—å –≤ GitHub:**
   ```bash
   git push origin main
   ```

3. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å push:**
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å GitHub, —á—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ—è–≤–∏–ª–∏—Å—å
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –∫–æ–º–º–∏—Ç –≤–∏–¥–µ–Ω –≤ –∏—Å—Ç–æ—Ä–∏–∏

---

### –®–∞–≥ 4: –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ü–ö

1. **–ù–∞ –ü–ö —Å–¥–µ–ª–∞—Ç—å pull:**
   ```bash
   git pull origin main
   ```

2. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–∞ –ü–ö:**
   ```bash
   git log -1  # –ü–æ—Å–ª–µ–¥–Ω–∏–π –∫–æ–º–º–∏—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å hotfix
   git status  # –î–æ–ª–∂–µ–Ω –±—ã—Ç—å clean
   ```

---

### –®–∞–≥ 5: –ó–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å

**–°–æ–∑–¥–∞—Ç—å GitHub Issue:**
- –ó–∞–≥–æ–ª–æ–≤–æ–∫: `[HOTFIX] –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã`
- –°–æ–¥–µ—Ä–∂–∏–º–æ–µ:
  - –ß—Ç–æ —Å–ª–æ–º–∞–ª–æ—Å—å
  - –ü–æ—á–µ–º—É –Ω–µ–ª—å–∑—è –±—ã–ª–æ —Å–¥–µ–ª–∞—Ç—å —á–µ—Ä–µ–∑ –æ–±—ã—á–Ω—ã–π workflow
  - –ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ
  - –ö–∞–∫–∏–µ —Ñ–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã
  - –ö–æ–º–º–∏—Ç —Ö–æ—Ç—Ñ–∏–∫—Å–∞

**–¶–µ–ª—å:** –û–±—ä—è—Å–Ω–∏—Ç—å, –ø–æ—á–µ–º—É –±—ã–ª–∞ –Ω–∞—Ä—É—à–µ–Ω–∞ –æ–±—ã—á–Ω–∞—è –ø—Ä–æ—Ü–µ–¥—É—Ä–∞.

---

### –®–∞–≥ 6: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã

1. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å git —Å—Ç–∞—Ç—É—Å:**
   ```bash
   cd /root/NovaCiv
   git status  # –î–æ–ª–∂–µ–Ω –±—ã—Ç—å clean
   ```

2. **–û–±–Ω–æ–≤–∏—Ç—å snapshot:**
   ```bash
   bash /root/NovaCiv/runbooks/snapshot_system.sh
   ```

3. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å PM2:**
   ```bash
   pm2 status
   pm2 logs --lines 50
   ```

---

## ‚úÖ Checklist

- [ ] –ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å –æ—Ü–µ–Ω–µ–Ω–∞ (–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ emergency?)
- [ ] –°–æ–∑–¥–∞–Ω–∞ —Ä–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è (git status, git diff)
- [ ] –•–æ—Ç—Ñ–∏–∫—Å –≤—ã–ø–æ–ª–Ω–µ–Ω –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω
- [ ] –ò–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞–∫–æ–º–º–∏—á–µ–Ω—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- [ ] –ò–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞–ø—É—à–µ–Ω—ã –≤ GitHub
- [ ] –ù–∞ –ü–ö –≤—ã–ø–æ–ª–Ω–µ–Ω pull
- [ ] –°–æ–∑–¥–∞–Ω–æ GitHub Issue —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º
- [ ] Git —Å—Ç–∞—Ç—É—Å clean –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- [ ] Snapshot –æ–±–Ω–æ–≤–ª—ë–Ω

---

## üö® –ü–æ—Å–ª–µ Emergency Hotfix

**–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ:**
1. –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å, –ø–æ—á–µ–º—É –ø–æ—Ç—Ä–µ–±–æ–≤–∞–ª—Å—è emergency hotfix
2. –ï—Å–ª–∏ –≤–æ–∑–º–æ–∂–Ω–æ ‚Äî —É–ª—É—á—à–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥/–∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—é, —á—Ç–æ–±—ã –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç—å –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ
3. –û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é, –µ—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –±—ã–ª–∞ –≤ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è—Ö

**–¶–µ–ª—å:** –°–≤–µ—Å—Ç–∏ emergency hotfix –∫ –º–∏–Ω–∏–º—É–º—É —á–µ—Ä–µ–∑ —É–ª—É—á—à–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤.

---

## üìã –ü—Ä–∏–º–µ—Ä

**–ü—Ä–æ–±–ª–µ–º–∞:** –°–µ—Ä–≤–µ—Ä –Ω–µ –º–æ–∂–µ—Ç –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ Firebase (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π URL –≤ –∫–æ–¥–µ).

**–†–µ—à–µ–Ω–∏–µ:**
1. –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ: –∏–∑–º–µ–Ω–∏—Ç—å `FIREBASE_DB_URL` –≤ –∫–æ–¥–µ (–∏–ª–∏ –≤ `.env`, –µ—Å–ª–∏ –≤–æ–∑–º–æ–∂–Ω–æ)
2. –ï—Å–ª–∏ –≤ –∫–æ–¥–µ: –∑–∞–∫–æ–º–º–∏—Ç–∏—Ç—å –∏ –∑–∞–ø—É—à–∏—Ç—å
3. –ù–∞ –ü–ö: —Å–¥–µ–ª–∞—Ç—å pull
4. –°–æ–∑–¥–∞—Ç—å Issue: "[HOTFIX] Fixed Firebase connection issue"

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ (–ª—É—á—à–µ):** –ò–∑–º–µ–Ω–∏—Ç—å `.env` –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (–±–µ–∑ –ø—Ä–∞–≤–∫–∏ –∫–æ–¥–∞) ‚Üí —ç—Ç–æ –Ω–µ –Ω–∞—Ä—É—à–∞–µ—Ç Source of Truth.

---

*Emergency Hotfix ‚Äî –∏—Å–∫–ª—é—á–µ–Ω–∏–µ, –Ω–µ –ø—Ä–∞–≤–∏–ª–æ. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –≤ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Å–∏—Ç—É–∞—Ü–∏—è—Ö.*
